(this["webpackJsonpreact-axios-typescript-example"]=this["webpackJsonpreact-axios-typescript-example"]||[]).push([[0],{108:function(e,t,a){},114:function(e,t,a){},146:function(e,t,a){},169:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(61),s=a.n(c),o=a(22),i=(a(114),a(4)),r=a(5),l=a(12),d=a(11),u=(a(145),a(146),a(3)),b=a(9),m=a.n(b),j=a(13),h=a(127),p=a.n(h).a.create({baseURL:"http://127.0.0.1:8000/api/",headers:{"Content-type":"application/json"}}),O=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return p.get("/convocatoria")}},{key:"getAllSinPliego",value:function(e){return p.get("/convocatoria/sinpliego/".concat(e))}},{key:"get",value:function(e){return p.get("/convocatoria/".concat(e))}},{key:"getAnnouncementsPub",value:function(){return p.get("/convocatoria/publica")}},{key:"create",value:function(e){return p.post("/convocatoria",e)}},{key:"update",value:function(e,t){return p.put("/convocatoria/".concat(t),e)}},{key:"delete",value:function(e){return p.delete("/convocatoria/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/convocatoria")}},{key:"findByTitle",value:function(e){return p.get("/convocatoria?title=".concat(e))}}]),e}()),x=(a(83),a(8)),v=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return p.get("/documento")}},{key:"get",value:function(e){return p.get("/documento/convocatoria/".concat(e))}},{key:"getPEtis",value:function(e){return p.get("/documento/pliegoespecificacion/".concat(e))}},{key:"getPostulationDocs",value:function(e){return p.get("postulacion/documentos/".concat(e))}},{key:"getAnnouncement",value:function(e){return p.get("/documento/convocatoria/".concat(e))}},{key:"create",value:function(e,t){return p.post("/postulacion/documentos/".concat(t),e)}},{key:"update",value:function(e,t){return p.put("/documento/".concat(t),e)}},{key:"delete",value:function(e){return p.delete("/documento/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/documento")}},{key:"findByTitle",value:function(e){return p.get("/documento?title=".concat(e))}},{key:"getPliegoByConvocatoria",value:function(e){return p.get("/documento/pliegoespecificacion/convocatoria/".concat(e))}}]),e}()),f=a(0);function g(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),c=a[0],s=a[1],o=function(){v.getAnnouncement(e.announcement.documento).then((function(e){console.log(e.data),s(e.data)})).catch((function(e){console.log(e)}))};return o(),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"modal fade",id:e.modalId,tabIndex:-1,"aria-labelledby":"label".concat(e.modalId),role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",id:"label".concat(e.modalId),children:e.announcement.titulo}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h6",{children:e.announcement.codigo})})}),Object(f.jsxs)("div",{className:"row mt-3",children:[Object(f.jsx)("h5",{className:"col-12",children:"Descripci\xf3n"}),Object(f.jsx)("p",{children:e.announcement.descripcion})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("h5",{className:"col-md-8",children:"Fecha limite de recepci\xf3n: "}),Object(f.jsx)("p",{className:"col-4",children:e.announcement.fechaLimRec})]}),Object(f.jsx)("h5",{children:"Fechas de duraci\xf3n del contrato"}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("h5",{className:"col-md-2",children:"Inicio: "}),Object(f.jsx)("p",{className:"col-md-3",children:e.announcement.fechaIniDur}),Object(f.jsx)("h5",{className:"offset-md-1 col-md-2",children:"Fin: "}),Object(f.jsx)("p",{className:"col-md-3",children:e.announcement.fechaFinDur})]}),Object(f.jsx)("div",{className:"row mt-3",children:Object(f.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(f.jsx)("a",{download:"".concat(e.announcement.titulo,".pdf"),className:"btn btn-primary",type:"button",href:c,onClick:Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:case"end":return e.stop()}}),e)}))),children:"Descargar archivo adjunto"})})})]})]})})})})}var N=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).retrieveAnnouncementDoc=function(){v.get(n.state.currentAnnouncement.documento).then((function(e){n.setState({currectDocument:e.data}),""!==n.state.currentAnnouncement.pliego&&v.getPliegoByConvocatoria(n.state.currentAnnouncement.id).then((function(e){n.setState({currentPetis:e.data})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},n.retrieveAnnouncements=n.retrieveAnnouncements.bind(Object(u.a)(n)),n.refreshList=n.refreshList.bind(Object(u.a)(n)),n.retrieveAnnouncementDoc=n.retrieveAnnouncementDoc.bind(Object(u.a)(n)),n.state={announcements:[],currentAnnouncement:{id:"",titulo:"",consultorEnc:"",codigo:"",descripcion:"",fechaLimRec:"",fechaIniDur:"",fechaFinDur:"",documento:"",publica:!1,pliego:""},currectDocument:"",currentPetis:"",loading:!0},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveAnnouncements()}},{key:"retrieveAnnouncements",value:function(){var e=this;O.getAnnouncementsPub().then((function(t){e.setState({announcements:t.data,loading:!1}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveAnnouncements(),this.setState({})}},{key:"render",value:function(){var e,t=this,a=this.state.announcements,n=(null===(e=a[0])||void 0===e||e.consultorEnc,"modalAplicar");return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g,{announcement:this.state.currentAnnouncement,modalId:n}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-8",children:Object(f.jsx)("h3",{children:"Convocatorias publicas"})}),Object(f.jsx)("div",{className:"col-4"})]}),a&&a.map((function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"row mx-0 mb-2",children:[Object(f.jsx)("button",{className:"btn btn-info col-11 btn-md announcement","data-bs-toggle":"modal","data-bs-target":"#".concat(n),onClick:function(){return t.setState({currentAnnouncement:e})},children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-xs-12 col-md-6 col-lg-8",children:e.titulo}),Object(f.jsx)("div",{className:"col-md-6 col-lg-4",children:e.codigo})]})}),Object(f.jsxs)("div",{className:"dropdown col-1",children:[Object(f.jsx)("button",{className:"btn btn-info dropdown-toggle announcement",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:Object(j.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({currentAnnouncement:e});case 2:return a.next=4,t.retrieveAnnouncementDoc();case 4:case"end":return a.stop()}}),a)}))),children:"Archivos"}),Object(f.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{download:"".concat(t.state.currentAnnouncement.titulo,".pdf"),className:"dropdown-item",href:t.state.currectDocument,onClick:Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.retrieveAnnouncementDoc();case 2:case"end":return e.stop()}}),e)}))),children:"Descargar Convocatoria"})}),t.state.currentAnnouncement.pliego&&Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"dropdown-item",href:t.state.currentPetis,download:"Pliego.pdf",children:"Descargar Pliego de Especificacion"})})]})]})]})})})),0===a.length&&!this.state.loading&&Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row align-items-center text-info",style:{minHeight:"50vh"},children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("div",{children:Object(f.jsx)("h1",{children:"\xa1Vaya!"})}),Object(f.jsx)("div",{children:Object(f.jsx)("h5",{className:"text-secondary",children:"Parece que no hay ningun elemento para mostrar"})})]})})}),this.state.loading&&Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row align-items-center text-info",style:{minHeight:"60vh"},children:Object(f.jsx)("div",{className:"col-2 offset-2",children:Object(f.jsx)("div",{className:"spinner-border fs-1",style:{width:"4rem",height:"4rem"},role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})})]})]})}}]),a}(n.Component),y=a(26),C=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"login",value:function(){var e=Object(j.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.post("/auth/login",t);case 3:if(!(a=e.sent).data.token){e.next=9;break}return localStorage.setItem("token",a.data.token),localStorage.setItem("geData",JSON.stringify(a.data.nombreGE)),localStorage.setItem("id",a.data.id),e.abrupt("return",!0);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("id"),a=localStorage.getItem("token"),localStorage.clear(),e.prev=3,e.next=6,p.post("/auth/logout",{user_id:t},{headers:{Authorization:"Bearer ".concat(a)}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:window.location.assign("/");case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"registerGE",value:function(e){return p.post("/auth/register",e)}},{key:"getCurrentUser",value:function(){if(localStorage.getItem("token")){var e;return e=localStorage.getItem("geData"),JSON.parse(e)}return null}}]),e}(),w=new C,k=a(25),S=function(e){var t=Object(n.useState)(!0),a=Object(x.a)(t,2),c=a[0],s=a[1],o="modal-login-label",i=function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.login(t);case 2:e.sent?(s(!0),window.location.reload()):s(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"modal fade",id:e.modalId,tabIndex:-1,"aria-labelledby":o,"aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header bg-dark",children:[Object(f.jsx)("h5",{className:"modal-title text-white",id:o,children:"Iniciar sesi\xf3n"}),Object(f.jsx)("button",{type:"button",className:"bg-dark btn text-white","data-bs-dismiss":"modal","aria-label":"Close",children:Object(f.jsx)("i",{className:"fa fa-times fs-4"})})]}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsx)(k.d,{initialValues:{username:"",password:""},onSubmit:i,validate:function(e){var t={};return e.username?/^(?=.{8,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/.test(e.username)||(t.username="Nombre de usuario inv\xe1lido"):t.username="Nombre de usuario requerido",e.password?/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(e.password)||(t.password="Contrase\xf1a inv\xe1lida"):t.password="Contrase\xf1a requerida",t},children:Object(f.jsxs)(k.c,{children:[Object(f.jsxs)("div",{className:"form-group row mb-3",children:[Object(f.jsx)("label",{htmlFor:"username",className:"form-label",children:"Nombre de usuario:"}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(k.b,{id:"username",className:"form-control",name:"username",placeholder:"Nombre de usuario"})}),Object(f.jsx)("div",{className:"col-12 text-danger",children:Object(f.jsx)(k.a,{name:"username"})})]}),Object(f.jsxs)("div",{className:"form-group row mb-3",children:[Object(f.jsx)("label",{htmlFor:"password",className:"form-label",children:"Contrase\xf1a:"}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(k.b,{id:"password",type:"password",className:"form-control",name:"password",placeholder:"Contrase\xf1a"})}),Object(f.jsx)("div",{className:"col-12 text-danger",children:Object(f.jsx)(k.a,{name:"password"})})]}),Object(f.jsx)("div",{className:"form-group row justify-content-center mb-3",children:!c&&Object(f.jsx)("div",{className:"col-auto text-danger",children:"Nombre de usuario o contrase\xf1a incorrectos"})}),Object(f.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(f.jsx)("button",{className:"btn btn-info text-light",type:"submit",children:"Iniciar sesi\xf3n"})})]})})})]})})})},D=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getConsultants",value:function(){return p.get("/consultor")}}]),e}()),P=function(e){var t=Object(n.useState)(!0),a=Object(x.a)(t,2),c=(a[0],a[1],Object(n.useState)([])),s=Object(x.a)(c,2),o=s[0],i=s[1],r="modal-login-label",l=function(){var e=Object(j.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t.representativename,username:t.username,email:t.emailGE,password:t.password,nombre:t.nameGE,consultor_id:Number(t.currentConsultant)},e.next=3,w.registerGE(a);case 3:n=e.sent,alert(n.data.message),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getConsultants();case 2:t=e.sent,i(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),Object(f.jsx)("div",{className:"modal fade",id:e.modalId,tabIndex:-1,"aria-labelledby":r,"aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header bg-dark",children:[Object(f.jsx)("h5",{className:"modal-title text-white",id:r,children:"Registro"}),Object(f.jsx)("button",{type:"button",className:"bg-dark btn text-white","data-bs-dismiss":"modal","aria-label":"Close",children:Object(f.jsx)("i",{className:"fa fa-times fs-4"})})]}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsx)(k.d,{initialValues:{representativename:"",username:"",emailGE:"",password:"",nameGE:"",currentConsultant:""},onSubmit:l,validate:function(e){var t={};return e.representativename||(t.representativename="Nombre del reprentante legal es requerido"),e.username?/^(?=.{8,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/.test(e.username)||(t.username="Nombre de usuario inv\xe1lido"):t.username="Nombre de usuario requerido",e.emailGE||(t.emailGE="Correo electr\xf3nico requerido"),e.password?/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(e.password)||(t.password="Contrase\xf1a inv\xe1lida"):t.password="Contrase\xf1a requerida",e.nameGE||(t.nameGE="Nombre de la Grupo-Empresa requerido"),e.currentConsultant||(t.currentConsultant="Elija un consultor TIS"),t},children:Object(f.jsxs)(k.c,{children:[Object(f.jsxs)("div",{className:"form-group row mb-3",children:[Object(f.jsx)("label",{htmlFor:"representativename",className:"form-label",children:"Nombre del representante legal:"}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(k.b,{id:"representativename",className:"form-control",name:"representativename",placeholder:"Nombre del representante legal de la Grupo-Empresa"})}),Object(f.jsx)("div",{className:"col-12 text-danger",children:Object(f.jsx)(k.a,{name:"representativename"})})]}),Object(f.jsxs)("div",{className:"form-group row mb-3",children:[Object(f.jsx)("label",{htmlFor:"username",className:"form-label",children:"Nombre de usuario:"}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(k.b,{id:"username",className:"form-control",name:"username",placeholder:"Nombre de usuario"})}),Object(f.jsx)("div",{className:"col-12 text-danger",children:Object(f.jsx)(k.a,{name:"username"})})]}),Object(f.jsxs)("div",{className:"form-group row mb-3",children:[Object(f.jsx)("label",{htmlFor:"emailGE",className:"form-label",children:"Email:"}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(k.b,{id:"emailGE",type:"email",className:"form-control",name:"emailGE",placeholder:"Nombre de usuario"})}),Object(f.jsx)("div",{className:"col-12 text-danger",children:Object(f.jsx)(k.a,{name:"emailGE"})})]}),Object(f.jsxs)("div",{className:"form-group row mb-3",children:[Object(f.jsx)("label",{htmlFor:"password",className:"form-label",children:"Contrase\xf1a:"}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(k.b,{id:"password",type:"password",className:"form-control",name:"password",placeholder:"Contrase\xf1a"})}),Object(f.jsx)("div",{className:"col-12 text-danger",children:Object(f.jsx)(k.a,{name:"password"})})]}),Object(f.jsxs)("div",{className:"form-group row mb-3",children:[Object(f.jsx)("label",{htmlFor:"nameGE",className:"form-label",children:"Nombre de la Grupo-Empresa:"}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(k.b,{id:"nameGE",className:"form-control",name:"nameGE",placeholder:"Nombre de usuario"})}),Object(f.jsx)("div",{className:"col-12 text-danger",children:Object(f.jsx)(k.a,{name:"nameGE"})})]}),Object(f.jsx)("div",{className:"form-group row mb-3",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsxs)(k.b,{as:"select",className:"form-select",name:"currentConsultant",children:[Object(f.jsx)("option",{value:"",children:"Seleccionar consultor TIS"}),o.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]}),Object(f.jsx)("div",{className:"col-12 text-danger",children:Object(f.jsx)(k.a,{name:"currentConsultant"})})]})}),Object(f.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(f.jsx)("button",{className:"btn btn-info text-light",type:"submit",children:"Registrar Grupo-Empresa"})})]})})})]})})})},A=(a(169),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isNavOpen:!1,currentUser:null},n.toggleNav=n.toggleNav.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"componentDidMount",value:function(){var e=w.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"render",value:function(){var e="login-modal",t="register-modal";return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(S,{modalId:e}),Object(f.jsx)(P,{modalId:t}),Object(f.jsx)("nav",{className:"navbar bg-black navbar-expand-lg fixed-top",children:Object(f.jsxs)("div",{className:"container-fluid align-middle",children:[Object(f.jsx)(o.b,{className:"nav-link py-0 px-5 saetis",to:"/announcements_list",children:Object(f.jsx)("strong",{children:"S A E T I S"})}),localStorage.getItem("token")?Object(f.jsxs)("div",{className:"dropdown me-5",children:[Object(f.jsxs)("button",{className:"btn border-white border-2 still-button",type:"button",id:"dropdownMenuUserGE","data-bs-toggle":"dropdown","aria-expanded":!1,children:[Object(f.jsx)("i",{className:"fa fa-circle pe-2",style:{fontSize:"13px",color:"#24bf61"}}),Object(f.jsx)("strong",{children:this.state.currentUser?this.state.currentUser.nombre:"..."})]}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuUserGE",children:Object(f.jsx)("li",{children:Object(f.jsx)("button",{className:"dropdown-item",onClick:function(){w.logout()},children:"Cerrar sesi\xf3n"})})})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{type:"button",className:"btn border-white border-2 login-button me-3","data-bs-toggle":"modal","data-bs-target":"#".concat(t),children:"Registrarse"}),Object(f.jsx)("button",{type:"button",className:"btn border-white border-2 login-button","data-bs-toggle":"modal","data-bs-target":"#".concat(e),children:"Iniciar sesi\xf3n"})]})]})})]})}}]),a}(n.Component)),F=(a(173),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isSideBarOpen:!0,isApplicationOpen:!1,isDocumentOpen:!1,isWorkSpaceOpen:!1},n.toggleSideBar=n.toggleSideBar.bind(Object(u.a)(n)),n.toggleSubMenu=n.toggleSubMenu.bind(Object(u.a)(n)),n.checkPermissions=n.checkPermissions.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"checkPermissions",value:function(e){var t=this.props.permissions,a=!1;return t.map((function(t){t.id===e&&(a=!0)})),a}},{key:"toggleSideBar",value:function(){this.setState({isSideBarOpen:!this.state.isSideBarOpen,isApplicationOpen:!1,isDocumentOpen:!1,isWorkSpaceOpen:!1})}},{key:"toggleSubMenu",value:function(e){0===e?this.setState({isApplicationOpen:!this.state.isApplicationOpen}):1===e?this.setState({isDocumentOpen:!this.state.isDocumentOpen}):2===e&&this.setState({isWorkSpaceOpen:!this.state.isWorkSpaceOpen})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isSideBarOpen,n=t.isApplicationOpen,c=t.isDocumentOpen,s=t.isWorkSpaceOpen;return Object(f.jsx)("div",{className:"sidebar bg-black ".concat(a?"close":""),children:Object(f.jsxs)("ul",{className:"nav-links",children:[Object(f.jsx)("li",{onClick:this.toggleSideBar,children:Object(f.jsxs)("a",{children:[Object(f.jsx)("i",{className:"fa fa-bars"}),Object(f.jsx)("span",{className:"link_name",children:"Menu"})]})}),Object(f.jsxs)("li",{children:[Object(f.jsxs)(o.b,{to:"/announcements_list",children:[Object(f.jsx)("i",{className:"fa fa-bullhorn"}),Object(f.jsx)("span",{className:"link_name",children:a?"":"Convocatorias disponibles"})]}),Object(f.jsx)("ul",{className:"sub-menu blank",children:Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{className:"link_name",to:"/announcements_list",children:"Convocatorias disponibles"})})})]}),Object(f.jsxs)("li",{className:"".concat(n?"showMenu":""),onClick:function(){e.toggleSubMenu(0)},children:[Object(f.jsxs)("div",{className:"iocn-link ".concat(this.checkPermissions(2)||this.checkPermissions(1)||this.checkPermissions(3)?"":"d-none"),children:[Object(f.jsxs)("a",{children:[Object(f.jsx)("i",{className:"fa fa-mail-bulk"}),Object(f.jsx)("span",{className:"link_name",children:a?"":"Postulacion"})]}),Object(f.jsx)("i",{className:"fa fa-chevron-down arrow"})]}),Object(f.jsxs)("ul",{className:"sub-menu",children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"link_name",href:"#",children:"Postulacion"})}),Object(f.jsx)("li",{className:"".concat(this.checkPermissions(2)?"":"d-none"),children:Object(f.jsx)("a",{children:Object(f.jsx)(o.b,{to:"/apply_to_announcement",style:{textDecoration:"none"},children:"Aplicar a convocatoria"})})}),Object(f.jsx)("li",{className:"".concat(this.checkPermissions(3)?"":"d-none"),children:Object(f.jsx)("a",{children:Object(f.jsx)(o.b,{to:"/my_work_calendar",style:{textDecoration:"none"},children:"Registrar calendario de trabajo"})})}),Object(f.jsx)("li",{className:"".concat(this.checkPermissions(1)?"":"d-none"),children:Object(f.jsx)("a",{children:Object(f.jsx)(o.b,{to:"/documents",style:{textDecoration:"none"},children:"Registrar documentos"})})})]})]}),Object(f.jsxs)("li",{className:"".concat(c?"showMenu":""),onClick:function(){e.toggleSubMenu(1)},children:[Object(f.jsxs)("div",{className:"iocn-link ".concat(this.checkPermissions(6)||this.checkPermissions(7)?"":"d-none"),style:a?{height:"50px"}:{height:"90px"},children:[Object(f.jsxs)("a",{children:[Object(f.jsx)("i",{className:"fa fa-file-alt"}),Object(f.jsx)("span",{className:"link_name",children:a?"":"Nuevo documento"})]}),Object(f.jsx)("i",{className:"fa fa-chevron-down arrow"})]}),Object(f.jsxs)("ul",{className:"sub-menu",children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"link_name",children:"Nuevo documento"})}),Object(f.jsx)("li",{className:"".concat(this.checkPermissions(6)?"":"d-none"),children:Object(f.jsx)("a",{children:Object(f.jsx)(o.b,{to:"/announcement_form",children:"Nueva convocatoria"})})}),Object(f.jsx)("li",{className:"".concat(this.checkPermissions(7)?"":"d-none"),children:Object(f.jsx)("a",{children:Object(f.jsx)(o.b,{to:"/petis_form",children:"Nuevo pliego de especificacion"})})})]})]}),Object(f.jsxs)("li",{className:"".concat(s?"showMenu":""),onClick:function(){e.toggleSubMenu(2)},children:[Object(f.jsxs)("div",{className:"iocn-link ".concat(this.checkPermissions(5)||this.checkPermissions(8)?"":"d-none"),style:a?{height:"50px"}:{height:"90px"},children:[Object(f.jsxs)("a",{children:[Object(f.jsx)("i",{className:"fas fa-chalkboard-teacher"}),Object(f.jsx)("span",{className:"link_name",children:a?"":"Espacio de trabajo"})]}),Object(f.jsx)("i",{className:"fa fa-chevron-down arrow"})]}),Object(f.jsxs)("ul",{className:"sub-menu",children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"link_name",children:"Espacio de trabajo"})}),Object(f.jsx)("li",{className:"".concat(this.checkPermissions(5)?"":"d-none"),children:Object(f.jsx)("a",{children:Object(f.jsx)(o.b,{to:"/my_announcements",children:"Mis convocatorias"})})}),Object(f.jsx)("li",{className:"".concat(this.checkPermissions(8)?"":"d-none"),children:Object(f.jsx)("a",{children:Object(f.jsx)(o.b,{to:"/my_applications",children:"Postulaciones"})})})]})]}),Object(f.jsxs)("li",{className:"".concat(this.checkPermissions(4)?"":"d-none"),children:[Object(f.jsxs)(o.b,{to:"/inbox_postulation",children:[Object(f.jsx)("i",{className:"fa fa-inbox"}),Object(f.jsx)("span",{className:"link_name",children:a?"":"Bandeja de entrada"})]}),Object(f.jsx)("ul",{className:"sub-menu blank",children:Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{className:"link_name",to:"/inbox_postulation",children:"Bandeja de entrada"})})})]})]})})}}]),a}(n.Component)),I=(a(108),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getBase64=function(e){return new Promise((function(t){var a="",n=new FileReader;n.readAsDataURL(e),n.onload=function(){a=n.result,t(a)}}))},n.handleFileInputChange=function(e){n.toggleUploadButton();var t=n.state.file;t=e.target.files[0],n.getBase64(t).then((function(e){t.base64=e,n.setState({base64URL:e,file:t}),n.onTrigger()})).catch((function(e){console.log(e)})),n.setState({file:e.target.files[0]})},n.state={file:null,base64URL:null,isUploaded:!1},n.getBase64=n.getBase64.bind(Object(u.a)(n)),n.handleFileInputChange=n.handleFileInputChange.bind(Object(u.a)(n)),n.toggleUploadButton=n.toggleUploadButton.bind(Object(u.a)(n)),n.onTrigger=n.onTrigger.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"toggleUploadButton",value:function(){this.setState({file:this.state.file,base64URL:this.state.base64URL,isUploaded:!this.state.isUploaded})}},{key:"onTrigger",value:function(){this.props.parentCallback(this.state.base64URL)}},{key:"render",value:function(){var e=this.state,t=e.isUploaded,a=(e.file,e.base64URL,this.props.name);return Object(f.jsx)("div",{className:"box ".concat(t?"green":"red"),children:Object(f.jsxs)("div",{className:"file-upload btn btn-secondary",children:[Object(f.jsx)("span",{children:a}),Object(f.jsx)("input",{type:"file",accept:"application/pdf",className:"upload",id:"upload-btn",onChange:this.handleFileInputChange}),Object(f.jsx)("i",{className:"fa fa-upload icon"})]})})}}]),a}(n.Component)),E=a(201),G=a(199),_=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handlePartA=function(e){n.setState({parteA:e})},n.handleBoleta=function(e){n.setState({boletaDeGarantia:e})},n.handleCarta=function(e){n.setState({cartaDePresentacion:e})},n.handleConstitucion=function(e){n.setState({constitucion:e})},n.handlePartB=function(e){n.setState({parteB:e})},n.state={parteA:"",boletaDeGarantia:"",cartaDePresentacion:"",constitucion:"",parteB:"",mensaje:"",correct:!1},n.retrieveDocuments=n.retrieveDocuments.bind(Object(u.a)(n)),n.handlePartA=n.handlePartA.bind(Object(u.a)(n)),n.handleBoleta=n.handleBoleta.bind(Object(u.a)(n)),n.handleCarta=n.handleCarta.bind(Object(u.a)(n)),n.handleConstitucion=n.handleConstitucion.bind(Object(u.a)(n)),n.handlePartB=n.handlePartB.bind(Object(u.a)(n)),n.uploadDocuments=n.uploadDocuments.bind(Object(u.a)(n)),n.closeSnackbar=n.closeSnackbar.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"retrieveDocuments",value:function(){var e=this;v.getAll().then((function(t){e.setState({parteA:t.data.parteA,boletaDeGarantia:t.data.boletaDeGarantia,cartaDePresentacion:t.data.cartaDePresentacion,constitucion:t.data.constitucion,parteB:t.data.parteB}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"uploadDocuments",value:function(){var e=this.state,t={parteA:e.parteA,boletaDeGarantia:e.boletaDeGarantia,cartaDePresentacion:e.cartaDePresentacion,constitucion:e.constitucion,parteB:e.parteB};console.log(t),v.create(t,w.getCurrentUser().id),setTimeout((function(){window.location.reload()}),3e3)}},{key:"checkFields",value:function(){var e=this.state,t=e.parteA,a=e.boletaDeGarantia,n=e.cartaDePresentacion,c=e.constitucion,s=e.parteB,o=!!(t&&a&&n&&c&&s);return this.setState({correct:!0,mensaje:o?"Registro de convocatoria exitoso":"Procure ingresar todos los documentos"}),o}},{key:"closeSnackbar",value:function(e,t){"clickaway"!==t&&this.setState({correct:!1})}},{key:"render",value:function(){var e=this,t=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.closeSnackbar,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"asd",tabIndex:-1,"aria-labelledby":"labelasd",role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfEst\xe1 seguro de cancelar la el registro de su planificacion?"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary text-white","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-info text-white",onClick:function(){window.location.reload()},children:"Confirmar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("h3",{className:"col-8",children:"Documentos"})}),Object(f.jsxs)("div",{className:"row mx-0 mb-2",children:[Object(f.jsx)("h5",{className:"col-12 offset-1",children:"Parte A"}),Object(f.jsx)("div",{className:"col-4 offset-2 mt-2",children:Object(f.jsx)(I,{name:"Parte A",parentCallback:this.handlePartA})}),Object(f.jsx)("div",{className:"col-4 offset-2 mt-2",children:Object(f.jsx)(I,{name:"Boleta de garantia",parentCallback:this.handleBoleta})}),Object(f.jsx)("div",{className:"col-4 offset-2 mt-4",children:Object(f.jsx)(I,{name:"Carta de presentacion",parentCallback:this.handleCarta})}),Object(f.jsx)("div",{className:"col-4 offset-2 mt-4",children:Object(f.jsx)(I,{name:"Constitucion",parentCallback:this.handleConstitucion})})]}),Object(f.jsxs)("div",{className:"row mx-0 mb-2 mt-4",children:[Object(f.jsx)("h5",{className:"col-12 offset-1",children:"Parte B"}),Object(f.jsx)("div",{className:"col-4 offset-2 mt-2",children:Object(f.jsx)(I,{name:"Parte B",parentCallback:this.handlePartB})})]}),Object(f.jsx)("div",{className:"row mx-0 mb-2 mt-4",children:Object(f.jsxs)("div",{className:"row fixed-bottom",children:[Object(f.jsx)("div",{className:"col-2 offset-5"}),Object(f.jsx)("div",{className:"col-2 btn btn-danger text-white mb-1","data-bs-toggle":"modal","data-bs-target":"#asd",children:"Cancelar"}),Object(f.jsx)("button",{className:"col-2 ms-5 btn btn-success m-1",onClick:function(){return e.checkFields()?e.uploadDocuments():null},children:"Enviar"})]})})]}),Object(f.jsx)(E.a,{open:this.state.correct,autoHideDuration:6e3,onClose:this.closeSnackbar,message:this.state.mensaje,action:t})]})}}]),a}(n.Component);function T(e){var t=[{id:1,nombre:"Leticia Blanco"},{id:2,nombre:"Vladimir Costas"},{id:3,nombre:"Patricia Gonzales"}],a=Object(n.useState)(""),c=Object(x.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(t),r=Object(x.a)(i,2),l=(r[0],r[1],Object(n.useState)(t)),d=Object(x.a)(l,2),u=(d[0],d[1],Object(n.useState)(!1)),b=Object(x.a)(u,2),h=b[0],p=b[1],g=Object(n.useState)(""),N=Object(x.a)(g,2),y=N[0],C=N[1],w=function(){v.get(e.announcement.documento).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))},k=function(e,t){"clickaway"!==t&&p(!1)},S=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:k,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return w(),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:e.modalId,tabIndex:-1,"aria-labelledby":"label".concat(e.modalId),role:"dialog","aria-hidden":!0,"data-bs-backdrop":"static",children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",id:"label".concat(e.modalId),children:"Publicar convocatoria"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){window.location.reload()}})]}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("div",{className:"row mt-1",children:Object(f.jsxs)("p",{className:"col-12 text-secondary",children:["T\xedtulo: ",e.announcement.titulo]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("p",{className:"col-12 text-secondary",children:["C\xf3digo: ",e.announcement.codigo]})}),Object(f.jsx)("div",{className:"row mt-3",children:Object(f.jsx)("div",{className:"d-grid gap-2 col-6",children:Object(f.jsxs)("a",{download:"".concat(e.announcement.titulo,".pdf"),className:"btn btn-info text-white",type:"button",href:s,onClick:Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:case"end":return e.stop()}}),e)}))),children:[e.announcement.titulo,".pdf"]})})})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary text-white","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-info text-white",onClick:function(){!function(){var t=e.announcement,a=t.id,n=t.titulo,c=t.consultorEnc,s=t.codigo,o=t.descripcion,i=t.fechaLimRec,r=t.fechaIniDur,l=t.fechaFinDur,d=t.documento;O.update({id:a,titulo:n,consultorEnc:c,codigo:s,descripcion:o,fechaLimRec:i,fechaIniDur:r,fechaFinDur:l,documento:d,publica:!0,pliego:""},a).then((function(e){C(e.data),p(!0)})).catch((function(e){console.log(e)})),e.refresh()}()},children:"Publicar"})]})]})})}),Object(f.jsx)(E.a,{open:h,autoHideDuration:6e3,onClose:k,message:y,action:S})]})}var R=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return p.get("/pliegoespecificacion")}},{key:"get",value:function(e){return p.get("/pliegoespecificacion/".concat(e))}},{key:"create",value:function(e){return p.post("/pliegoespecificacion",e)}},{key:"update",value:function(e,t){return p.put("/pliegoespecificacion/".concat(t),e)}},{key:"delete",value:function(e){return p.delete("/pliegoespecificacion/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/pliegoespecificacion")}},{key:"findByTitle",value:function(e){return p.get("/pliegoespecificacion?title=".concat(e))}}]),e}());function B(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(!1),i=Object(x.a)(o,2),r=i[0],l=i[1],d=Object(n.useState)(""),u=Object(x.a)(d,2),b=u[0],h=u[1],p=function(){R.get(e.petis.documento).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))},O=function(e,t){"clickaway"!==t&&l(!1)},v=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:O,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return p(),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:e.modalId,tabIndex:-1,"aria-labelledby":"label".concat(e.modalId),role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",id:"label".concat(e.modalId),children:"Publicar Pliego de Especificaci\xf3n"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("div",{className:"row mt-3",children:Object(f.jsx)("h6",{className:"col-12",children:"".concat(e.tituloConv)})}),Object(f.jsx)("div",{className:"row mt-3",children:Object(f.jsx)("h6",{className:"col-12",children:"".concat(e.petis.titulo)})}),Object(f.jsx)("div",{className:"row mt-3",children:Object(f.jsx)("h6",{className:"col-12",children:"".concat(e.petis.codigo)})}),Object(f.jsx)("div",{className:"row mt-3",children:Object(f.jsx)("div",{className:"d-grid gap-2 col-6",children:Object(f.jsx)("a",{download:"".concat(e.petis.titulo,".pdf"),className:"btn btn-primary",type:"button",href:c,onClick:Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:case"end":return e.stop()}}),e)}))),children:"Descargar Pliego de Especificaci\xf3n"})})})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary text-white","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-info text-white",onClick:function(){!function(){var t=e.petis,a=t.id,n=t.titulo,c=t.codigo,s=t.convocatoria_id,o=t.documento,i=t.publica;R.update({titulo:n,codigo:c,convocatoria_id:s,documento:o,publica:i},a)}(),h("Pliego correctamente publicado"),l(!0)},children:"Publicar pliego"})]})]})})}),Object(f.jsx)(E.a,{open:r,autoHideDuration:6e3,onClose:O,message:b,action:v})]})}function M(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),c=a[0],s=a[1],o=function(){v.getPEtis(e.petis.documento).then((function(e){console.log(e.data),s(e.data)})).catch((function(e){console.log(e)}))};return o(),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"modal fade",id:e.modalId,tabIndex:-1,"aria-labelledby":"label".concat(e.modalId),role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",id:"label".concat(e.modalId),children:e.petis.titulo}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h6",{children:e.petis.codigo})})}),Object(f.jsxs)("div",{className:"row mt-3",children:[Object(f.jsx)("h5",{className:"col-12",children:"Convocatoria asociada"}),Object(f.jsx)("p",{children:e.announcement})]}),Object(f.jsx)("div",{className:"row mt-3",children:Object(f.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(f.jsx)("a",{download:"".concat(e.petis.titulo,".pdf"),className:"btn btn-primary",type:"button",href:c,onClick:Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:case"end":return e.stop()}}),e)}))),children:"Descargar archivo adjunto"})})})]})]})})})})}var L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).retrieveAnnouncements=n.retrieveAnnouncements.bind(Object(u.a)(n)),n.refreshList=n.refreshList.bind(Object(u.a)(n)),n.retrievePetis=n.retrievePetis.bind(Object(u.a)(n)),n.state={announcements:[],currentAnnouncement:{id:"",titulo:"",consultorEnc:"",codigo:"",descripcion:"",fechaLimRec:"",fechaIniDur:"",fechaFinDur:"",documento:"",publica:!1,pliego:""},currentPetis:{id:"",titulo:"",codigo:"",convocatoria_id:"",documento:"",publica:!1},loading:!0},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveAnnouncements()}},{key:"retrieveAnnouncements",value:function(){var e=this;O.get(w.getCurrentUser().id).then((function(t){e.setState({announcements:t.data.convocatorias,loading:!1})})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveAnnouncements(),this.setState({})}},{key:"retrievePetis",value:function(e){var t=this;R.get(e).then((function(e){t.setState({currentPetis:e.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.announcements,a="modalAplicarPliego",n="modalAplicarConvocatoria",c="modalPliego";return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(B,{petis:this.state.currentPetis,modalId:a,tituloConv:this.state.currentAnnouncement.titulo}),Object(f.jsx)(T,{announcement:this.state.currentAnnouncement,refresh:this.refreshList,modalId:n}),Object(f.jsx)(M,{petis:this.state.currentPetis,announcement:this.state.currentAnnouncement.titulo,modalId:c}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsxs)("h2",{className:"row",children:[" ",Object(f.jsx)("div",{className:"col-8",children:Object(f.jsx)("h3",{children:" Mis convocatorias"})})]}),t&&t.map((function(t){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"row mx-0 mb-2",children:[Object(f.jsx)("button",{className:"btn btn-info col-8 btn-md announcement","data-bs-toggle":"modal","data-bs-target":"#".concat(c),onClick:function(){return e.setState({currentAnnouncement:t})},children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-xs-12 col-md-6 col-lg-4",children:t.titulo}),Object(f.jsx)("div",{className:"col-md-2 col-lg-4 d-none d-lg-block text-end",children:t.codigo}),t.publica?Object(f.jsxs)("div",{className:"col-md-2 col-lg-4 d-none d-lg-block text-end",children:["Publicado ","\xa0\xa0\xa0\xa0\xa0\xa0",Object(f.jsx)("i",{className:"fa fa-circle text-success pl-1",children:" "})]}):Object(f.jsxs)("div",{className:"col-md-2 col-lg-4 d-none d-lg-block text-end",children:["No publicado ",Object(f.jsx)("i",{className:"fa fa-circle text-danger"})]})]})}),Object(f.jsxs)("div",{className:"dropdown col-3",children:[Object(f.jsx)("button",{className:"btn btn-info dropdown-toggle announcement",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Opciones"}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:Object(f.jsxs)("li",{children:[Object(f.jsx)("button",{className:"btn col-8 btn-md ","data-bs-toggle":"modal","data-bs-target":"#".concat(n),onClick:function(){e.setState({currentAnnouncement:t})},children:"Publicar convocatoria"}),Object(f.jsx)("button",{className:"btn col-8 btn-md text-start","data-bs-toggle":"modal","data-bs-target":"#".concat(a),onClick:Object(j.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({currentAnnouncement:t});case 2:return a.next=4,e.retrievePetis(e.state.currentAnnouncement.id);case 4:case"end":return a.stop()}}),a)}))),children:"Publicar pliego"})]})})]})]})})})),0===t.length&&!this.state.loading&&Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row align-items-center text-info",style:{minHeight:"50vh"},children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("div",{children:Object(f.jsx)("h1",{children:"\xa1Vaya!"})}),Object(f.jsx)("div",{children:Object(f.jsx)("h5",{className:"text-secondary",children:"Parece que no hay ningun elemento para mostrar"})})]})})}),this.state.loading&&Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row align-items-center text-info",style:{minHeight:"60vh"},children:Object(f.jsx)("div",{className:"col-2 offset-2",children:Object(f.jsx)("div",{className:"spinner-border fs-1",style:{width:"4rem",height:"4rem"},role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})})]})]})}}]),a}(n.Component),U=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getBase64=function(e){return new Promise((function(t){var a="",n=new FileReader;n.readAsDataURL(e),n.onload=function(){a=n.result,t(a)}}))},n.state={id:"",titulo:"",consultorEnc:"",codigo:"",descripcion:"",fechaLimRec:"",fechaIniDur:"",fechaFinDur:"",documento:"",publica:!1,pliego:"",file:null,base64URL:null,open:!1,message:""},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleTitulo=n.handleTitulo.bind(Object(u.a)(n)),n.handleCodigo=n.handleCodigo.bind(Object(u.a)(n)),n.handleFechaLimRec=n.handleFechaLimRec.bind(Object(u.a)(n)),n.handleFechaIniDur=n.handleFechaIniDur.bind(Object(u.a)(n)),n.handleFechaFinDur=n.handleFechaFinDur.bind(Object(u.a)(n)),n.handleSubirConvocatoria=n.handleSubirConvocatoria.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"handleTitulo",value:function(e){this.setState({titulo:e.target.value})}},{key:"handleCodigo",value:function(e){this.setState({codigo:e.target.value})}},{key:"handleFechaLimRec",value:function(e){this.setState({fechaLimRec:e.target.value})}},{key:"handleFechaIniDur",value:function(e){this.setState({fechaIniDur:e.target.value})}},{key:"handleFechaFinDur",value:function(e){this.setState({fechaFinDur:e.target.value})}},{key:"handleSubirConvocatoria",value:function(e){var t=this,a=this.state.file;a=e.target.files[0],this.getBase64(a).then((function(e){a.base64=e,t.setState({base64URL:e,file:a}),t.setState({documento:t.state.base64URL})})).catch((function(e){console.log(e)})),this.setState({file:e.target.files[0]})}},{key:"handleSubmit",value:function(e){e.preventDefault(),/[a-zA-Z]+/.test(this.state.titulo)?/\s+/g.test(this.state.codigo)||""===this.state.codigo?this.setState({message:"Llene correctamente los campos. C\xf3digo incorrecto",open:!0}):""===this.state.fechaLimRec||""===this.state.fechaIniDur||""===this.state.fechaFinDur||new Date(this.state.fechaLimRec)>new Date(this.state.fechaIniDur)||new Date(this.state.fechaIniDur)>new Date(this.state.fechaFinDur)?this.setState({message:"Llene correctamente los campos. Fechas incorrectas",open:!0}):null!==this.state.file?(O.create({id:w.getCurrentUser().id,titulo:this.state.titulo,consultorEnc:w.getCurrentUser().nombre,codigo:this.state.codigo,descripcion:this.state.descripcion,fechaLimRec:this.state.fechaLimRec,fechaIniDur:this.state.fechaIniDur,fechaFinDur:this.state.fechaFinDur,documento:this.state.documento,publica:this.state.publica,pliego:this.state.pliego}),this.setState({message:"Registro de convocatoria exitoso",open:!0}),this.setState({id:"",titulo:"",consultorEnc:"",codigo:"",descripcion:"",fechaLimRec:"",fechaIniDur:"",fechaFinDur:"",documento:"",publica:!1,pliego:""})):this.setState({message:"Llene correctamente los campos. Suba un archivo",open:!0}):this.setState({message:"Llene correctamente los campos. T\xedtulo incorrecto",open:!0})}},{key:"componentDidMount",value:function(){this.setState({id:w.getCurrentUser().id,consultorEnc:w.getCurrentUser().nombre})}},{key:"render",value:function(){var e=this,t=function(t,a){"clickaway"!==a&&e.setState({open:!1})},a=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:t,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"popupCancelModal",tabIndex:-1,"aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfEst\xe1 seguro de cancelar el registro de convocatoria?"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return window.location.reload()},children:"Aceptar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-8",children:Object(f.jsx)("h3",{children:" Formulario de registro de convocatoria"})})}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,method:"post",noValidate:!0,children:[Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"titulo",className:"col-md-2 col-form-label",children:"T\xedtulo"}),Object(f.jsx)("div",{className:"col-md-10",children:Object(f.jsx)("input",{type:"text",className:"form-control",id:"titulo",name:"titulo",placeholder:"T\xedtulo",value:this.state.titulo,onChange:this.handleTitulo,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"codigo",className:"col-md-2 col-form-label",children:"C\xf3digo"}),Object(f.jsx)("div",{className:"col-md-10",children:Object(f.jsx)("input",{type:"text",className:"form-control",id:"codigo",name:"codigo",placeholder:"C\xf3digo",value:this.state.codigo,onChange:this.handleCodigo,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"descripcion",className:"col-md-2 col-form-label",children:"Descripci\xf3n"}),Object(f.jsx)("div",{className:"col-md-10",children:Object(f.jsx)("textarea",{className:"form-control",id:"descripcion",name:"descripcion",rows:6,value:this.state.descripcion,onChange:function(t){return e.setState({descripcion:t.target.value})}})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"fechaLimite",className:"col-md-5 col-form-label",children:"Fecha l\xedmite de recepci\xf3n de propuesta"}),Object(f.jsx)("div",{className:"col-md-7",children:Object(f.jsx)("input",{type:"date",className:"form-control",id:"fechaLimite",name:"fechaLimite",value:this.state.fechaLimRec,onChange:this.handleFechaLimRec,required:!0})})]}),Object(f.jsx)("label",{className:"col-md-12 col-form-label d-flex justify-content-center",children:Object(f.jsx)("h5",{children:"Fechas de duraci\xf3n del contrato"})}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"fechaInicio",className:"col-md-5 col-form-label",children:"Inicio"}),Object(f.jsx)("div",{className:"col-md-7",children:Object(f.jsx)("input",{type:"date",className:"form-control",id:"fechaInicio",name:"fechaInicio",value:this.state.fechaIniDur,onChange:this.handleFechaIniDur,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"fechaFin",className:"col-md-5 col-form-label",children:"Fin"}),Object(f.jsx)("div",{className:"col-md-7",children:Object(f.jsx)("input",{type:"date",className:"form-control",id:"fechaFin",name:"fechaFin",value:this.state.fechaFinDur,onChange:this.handleFechaFinDur,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"subirPdf",className:"col-md-2 col-form-label",children:"Subir PDF"}),Object(f.jsx)("div",{className:"col-md-10",children:Object(f.jsx)("input",{type:"file",accept:".pdf",className:"form-control",id:"subirPdf",name:"subirPdf",onChange:this.handleSubirConvocatoria,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3 d-flex justify-content-end",children:[Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"button",className:"btn btn-danger text-white","data-bs-toggle":"modal","data-bs-target":"#popupCancelModal",children:"Cancelar"})}),Object(f.jsx)("div",{className:"col-1",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-success",children:"Guardar"})})]})]})]}),Object(f.jsx)(E.a,{open:this.state.open,autoHideDuration:6e3,onClose:t,message:this.state.message,action:a})]})}}]),a}(n.Component),q=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return p.get("/postulacion")}},{key:"get",value:function(e){return p.get("/postulacion/propias/".concat(e))}},{key:"getApplicationMilestones",value:function(e){return p.get("postulacion/hitos/".concat(e))}},{key:"create",value:function(e){return p.post("/postulacion",e)}},{key:"createApply",value:function(e,t){return p.post("/postulacion/".concat(t),e)}},{key:"update",value:function(e,t){return p.put("/postulacion/".concat(t),e)}},{key:"delete",value:function(e){return p.delete("/postulacion/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/postulacion")}},{key:"findByTitle",value:function(e){return p.get("/postulacion?title=".concat(e))}}]),e}()),z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={announcements:[],announcementSelected:"",currentAnnouncement:{id:"",titulo:"",consultorEnc:"",codigo:"",descripcion:"",fechaLimRec:"",fechaIniDur:"",fechaFinDur:"",documento:"",publica:!1,pliego:""},open:!1,message:""},n.retrieveAnnouncements=n.retrieveAnnouncements.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveAnnouncements()}},{key:"retrieveAnnouncements",value:function(){var e=this;O.get(w.getCurrentUser().consultor_id).then((function(t){e.setState({announcements:t.data.convocatorias}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"handleSubmit",value:function(){var e=Object(j.a)(m.a.mark((function e(t){var a,n=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.announcementSelected){e.next=4;break}return this.setState({message:"No existe ninguna convocatoria seleccinada",open:!0}),e.abrupt("return");case 4:return e.next=6,this.state.announcements.filter((function(e){return e.id==n.state.announcementSelected}))[0];case 6:a=e.sent,this.setState({currentAnnouncement:a});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=function(t,a){"clickaway"!==a&&e.setState({open:!1})},a=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:t,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"confirmApplyModal",tabIndex:-1,"aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsxs)("h5",{className:"modal-title",children:['\xbfUsted como grupo-empresa GRUPOEMPRESA desea postular a la convocatoria "',this.state.currentAnnouncement.titulo,'"?']}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:function(){window.location.reload()},children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){new Date>new Date(e.state.currentAnnouncement.fechaLimRec)?e.setState({message:"Aplicaci\xf3n fuera de rango de fechas de postulaci\xf3n",open:!0}):(q.createApply({convocatoria_id:e.state.currentAnnouncement.id},w.getCurrentUser().id),e.setState({message:"Usted GRUPOEMPRESA ha aplicado correctamente, puede proceder a llenar los documentos de la postulaci\xf3n.",open:!0}),setTimeout((function(){window.location.reload()}),3e3))},children:"Aceptar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-8",children:Object(f.jsx)("h3",{children:" Aplicar a una convocatoria"})})}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsx)("div",{className:"form-group row ps-4 pt-3",children:Object(f.jsxs)("select",{className:"form-select form-select-lg mb-3",value:this.state.announcementSelected,onChange:function(t){e.setState({announcementSelected:t.target.value})},children:[Object(f.jsx)("option",{value:"",selected:!0,children:"Seleccione la convocatoria a la que desea aplicar"}),this.state.announcements.map((function(e){return Object(f.jsxs)("option",{value:e.id,children:[e.titulo," | ",e.codigo]})}))]})}),Object(f.jsx)("div",{className:"form-group row mt-5 d-flex justify-content-end",children:Object(f.jsxs)("div",{className:"col-auto",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-danger text-white",onClick:function(){window.location.reload()},children:"Cancelar"}),Object(f.jsx)("button",{type:"submit",className:"btn btn-success ms-3","data-bs-toggle":""!==this.state.announcementSelected?"modal":"","data-bs-target":""!==this.state.announcementSelected?"#confirmApplyModal":"#",children:"Aplicar"})]})})]})]}),Object(f.jsx)(E.a,{open:this.state.open,autoHideDuration:6e3,onClose:t,message:this.state.message,action:a})]})}}]),a}(n.Component),H=(a(174),new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return p.get("/Hitoplanificacion")}},{key:"get",value:function(e){return p.get("/Hitoplanificacion/".concat(e))}},{key:"create",value:function(e,t){return p.post("/postulacion/planificacion/".concat(t),e)}},{key:"update",value:function(e,t){return p.put("/Hitoplanificacion/".concat(t),e)}},{key:"delete",value:function(e){return p.delete("/Hitoplanificacion/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/Hitoplanificacion")}},{key:"findByTitle",value:function(e){return p.get("/Hitoplanificacion?title=".concat(e))}}]),e}())),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={milestones:{id:"",hitos:[]},nombre:"",fechaIni:"",fechaFin:"",porcentajeCobro:0,entregables:"",sum:0,message:"",open:!1},n.handleNombre=n.handleNombre.bind(Object(u.a)(n)),n.handleFechaFin=n.handleFechaFin.bind(Object(u.a)(n)),n.handleFechaIni=n.handleFechaIni.bind(Object(u.a)(n)),n.handlePorcentaje=n.handlePorcentaje.bind(Object(u.a)(n)),n.handleEntregables=n.handleEntregables.bind(Object(u.a)(n)),n.handleAdd=n.handleAdd.bind(Object(u.a)(n)),n.sendWorkCalendar=n.sendWorkCalendar.bind(Object(u.a)(n)),n.deleteMilestone=n.deleteMilestone.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"handleNombre",value:function(e){this.setState({nombre:e.target.value})}},{key:"handleFechaFin",value:function(e){this.setState({fechaFin:e.target.value})}},{key:"handleFechaIni",value:function(e){this.setState({fechaIni:e.target.value})}},{key:"handlePorcentaje",value:function(e){this.setState({porcentajeCobro:parseInt(e.target.value)})}},{key:"handleEntregables",value:function(e){this.setState({entregables:e.target.value})}},{key:"handleAdd",value:function(){if(/[a-zA-Z]+/.test(this.state.nombre))if(""===this.state.fechaFin||""===this.state.fechaIni||new Date(this.state.fechaIni)>new Date(this.state.fechaFin))this.setState({message:"El siguiente campo debe ser correctamente llenado: Fechas incorrectas",open:!0});else if(this.state.porcentajeCobro+this.state.sum>100||100==this.state.sum)this.setState({message:"Llene correctamente los campos. Sumatoria de porcentaje sobrepasa 100%",open:!0});else{var e=this.state.milestones;e.hitos.push({nombre:this.state.nombre,fechaIni:this.state.fechaIni,fechaFin:this.state.fechaFin,porcentajeCobro:this.state.porcentajeCobro,entregables:this.state.entregables}),this.setState({milestones:e,sum:this.state.sum+this.state.porcentajeCobro})}else this.setState({message:"El siguiente campo debe ser correctamente llenado: Nombre incorrecto",open:!0})}},{key:"deleteMilestone",value:function(){var e=this.state.milestones,t=e.hitos.pop();t&&this.setState({milestones:e,sum:this.state.sum-t.porcentajeCobro})}},{key:"sendWorkCalendar",value:function(){var e="Registro de calendario de trabajo exitoso";100===this.state.sum?H.create({id:this.state.milestones.id,hitos:this.state.milestones.hitos},w.getCurrentUser().id):e="Debe ingresar una cantidad de hitos que sume exactamente 100%",this.setState({message:e,open:!0}),setTimeout((function(){window.location.reload()}),3e3)}},{key:"render",value:function(){var e=this,t=this.state.milestones,a=function(t,a){"clickaway"!==a&&e.setState({open:!1})},n=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:a,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"asd",tabIndex:-1,"aria-labelledby":"labelasd",role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfEst\xe1 seguro de cancelar la el registro de sus documentos?"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-danger text-white","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-success text-white",onClick:function(){window.location.reload()},children:"Confirmar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-8",children:Object(f.jsx)("h3",{children:" Planificacion"})})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col col-12",children:Object(f.jsx)("table",{className:"table table-bordered",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Nombre Hito"}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Fecha Inicial"}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Fecha Final"}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Porcentaje % de Cobro"}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Entregables"}),Object(f.jsx)("td",{className:"borderless-cell"})]}),t&&t.hitos.map((function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.nombre}),Object(f.jsx)("td",{children:e.fechaIni}),Object(f.jsx)("td",{children:e.fechaFin}),Object(f.jsx)("td",{children:e.porcentajeCobro}),Object(f.jsx)("td",{children:e.entregables}),Object(f.jsx)("td",{className:"borderless-cell"})]})})})),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)("input",{type:"text",className:"input col-12",id:"nombre",name:"nombre",required:!0,onChange:this.handleNombre})}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{type:"date",className:"input col-12",id:"fechaIni",name:"fechaIni",required:!0,onChange:this.handleFechaIni})}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{type:"date",className:"input col-12",id:"fechaFin",name:"fechaFin",onChange:this.handleFechaFin,required:!0})}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{type:"number",className:"input col-12",id:"porcentaje",name:"porcentaje",onChange:this.handlePorcentaje,required:!0})}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{type:"text",className:"input col-12",id:"entregables",name:"entregables",onChange:this.handleEntregables,required:!0})}),Object(f.jsx)("td",{className:"borderless-cell"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"borderless-cell"}),Object(f.jsx)("td",{className:"borderless-cell"}),Object(f.jsx)("td",{className:"borderless-cell",children:Object(f.jsx)("div",{className:"pt-3 text-center",children:"Sumatoria:"})}),Object(f.jsx)("td",{children:Object(f.jsxs)("div",{className:"pt-3 text-end",children:[this.state.sum," %"]})}),Object(f.jsx)("td",{className:"borderless-cell",children:Object(f.jsx)("button",{className:"btn btn-lg btn-success bg-success addButton",onClick:this.handleAdd,children:"Agregar Hito"})}),Object(f.jsx)("td",{className:"borderless-cell",children:Object(f.jsx)("button",{className:"btn btn-secondary",title:"Borrar hito",onClick:this.deleteMilestone,children:Object(f.jsx)("i",{className:"fa fa-trash fs-3"})})})]})]})})})}),Object(f.jsx)("div",{className:"row mx-0 mb-2 mt-4",children:Object(f.jsxs)("div",{className:"row fixed-bottom",children:[Object(f.jsx)("div",{className:"col-2 offset-5"}),Object(f.jsx)("div",{className:"col-2 btn btn-danger text-white mb-1","data-bs-toggle":"modal","data-bs-target":"#asd",children:"Cancelar"}),Object(f.jsx)("button",{className:"col-2 offset-1 btn btn-success mb-1",onClick:this.sendWorkCalendar,children:"Enviar"})]})})]}),Object(f.jsx)(E.a,{open:this.state.open,autoHideDuration:6e3,onClose:a,message:this.state.message,action:n})]})}}]),a}(n.Component),V=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getBase64=function(e){return new Promise((function(t){var a="",n=new FileReader;n.readAsDataURL(e),n.onload=function(){a=n.result,t(a)}}))},n.state={titulo:"",codigoPliego:"",idConvocatoria:"",documentoPliego:"",announcements:[],file:null,base64URL:null,open:!1,message:""},n.handleTitulo=n.handleTitulo.bind(Object(u.a)(n)),n.handleCodigoPliego=n.handleCodigoPliego.bind(Object(u.a)(n)),n.handleSubirPliego=n.handleSubirPliego.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveAnnouncements()}},{key:"retrieveAnnouncements",value:function(){var e=this;O.getAllSinPliego(Number(localStorage.getItem("id")+"")).then((function(t){e.setState({announcements:t.data.convocatorias}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"handleTitulo",value:function(e){this.setState({titulo:e.target.value})}},{key:"handleCodigoPliego",value:function(e){this.setState({codigoPliego:e.target.value})}},{key:"handleSubirPliego",value:function(e){var t=this,a=this.state.file;a=e.target.files[0],this.getBase64(a).then((function(e){a.base64=e,t.setState({base64URL:e,file:a}),t.setState({documentoPliego:t.state.base64URL})})).catch((function(e){console.log(e)})),this.setState({file:e.target.files[0]})}},{key:"handleSubmit",value:function(e){e.preventDefault(),/[a-zA-Z]+/.test(this.state.titulo)?/\s+/g.test(this.state.codigoPliego)||""===this.state.codigoPliego?this.setState({message:"Llene correctamente los campos. C\xf3digo incorrecto",open:!0}):""!==this.state.idConvocatoria?null!==this.state.file?(R.create({titulo:this.state.titulo,codigo:this.state.codigoPliego,convocatoria_id:this.state.idConvocatoria,documento:this.state.documentoPliego,publica:!1}),this.setState({message:"Registro de Pliego de Especificaci\xf3n exitoso",open:!0}),setTimeout((function(){window.location.reload()}),2500)):this.setState({message:"Llene correctamente los campos. Suba un archivo",open:!0}):this.setState({message:"Llene correctamente los campos. Elija una convocatoria.",open:!0}):this.setState({message:"Llene correctamente los campos. T\xedtulo incorrecto",open:!0})}},{key:"render",value:function(){var e=this,t=function(t,a){"clickaway"!==a&&e.setState({open:!1})},a=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:t,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"popupCancelModalPetis",tabIndex:-1,"aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfEst\xe1 seguro de cancelar el registro de pliego de especificaci\xf3n?"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return window.location.reload()},children:"Aceptar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h3",{children:" Formulario de registro de Pliego de Especificaci\xf3n"})})}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,method:"post",noValidate:!0,children:[Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"tituloPliego",className:"col-md-2 col-form-label",children:"T\xedtulo"}),Object(f.jsx)("div",{className:"col-md-10",children:Object(f.jsx)("input",{type:"text",className:"form-control",id:"tituloPliego",name:"tituloPliego",placeholder:"T\xedtulo",value:this.state.titulo,onChange:this.handleTitulo,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"codigoPliego",className:"col-md-2 col-form-label",children:"C\xf3digo"}),Object(f.jsx)("div",{className:"col-md-10",children:Object(f.jsx)("input",{type:"text",className:"form-control",id:"codigoPliego",name:"codigoPliego",placeholder:"C\xf3digo",value:this.state.codigoPliego,onChange:this.handleCodigoPliego,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"codigoConvocatoria",className:"col-md-2 col-form-label",children:"Convocatoria asociada"}),Object(f.jsx)("div",{className:"col-md-10",children:Object(f.jsxs)("select",{className:"form-select form-select-lg",value:this.state.idConvocatoria,onChange:function(t){e.setState({idConvocatoria:t.target.value})},id:"codigoConvocatoria",name:"codigoConvocatoria",children:[Object(f.jsx)("option",{value:"",selected:!0,children:"Seleccione la convocatoria"}),this.state.announcements.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.titulo})}))]})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"subirPdfPliego",className:"col-md-2 col-form-label",children:"Subir PDF"}),Object(f.jsx)("div",{className:"col-md-10",children:Object(f.jsx)("input",{type:"file",accept:".pdf",className:"form-control",id:"subirPdfPliego",name:"subirPdfPliego",onChange:this.handleSubirPliego,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3 d-flex justify-content-end",children:[Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"button",className:"btn btn-danger text-white","data-bs-toggle":"modal","data-bs-target":"#popupCancelModalPetis",children:"Cancelar"})}),Object(f.jsx)("div",{className:"col-1",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-success",children:"Registrar"})})]})]})]}),Object(f.jsx)(E.a,{open:this.state.open,autoHideDuration:6e3,onClose:t,message:this.state.message,action:a})]})}}]),a}(n.Component),W=function(e){var t=Object(n.useState)([]),a=Object(x.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(!1),i=Object(x.a)(o,2),r=i[0],l=i[1],d=Object(n.useState)(""),u=Object(x.a)(d,2),b=u[0],h=(u[1],function(e,t){"clickaway"!==t&&l(!1)}),p=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:h,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),O=function(){var t=Object(j.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,-1===e.currentApplication.idPostulacion){t.next=6;break}return t.next=4,q.getApplicationMilestones(e.currentApplication.idPostulacion);case 4:a=t.sent,s(a.data);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[e.currentApplication.idPostulacion]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:e.modalId,tabIndex:-1,"aria-labelledby":"documentsDetailsModalLabel-".concat(e.modalId),"aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog modal-xl",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",id:"documentsDetailsModalLabel-".concat(e.modalId),children:"Postulaci\xf3n"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-6",children:Object(f.jsx)("h6",{children:e.currentApplication.tituloConvocatoria})}),Object(f.jsx)("div",{className:"col-6",children:Object(f.jsx)("h6",{children:e.currentApplication.nombreGrupoEmpresa})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-6",children:"Fecha de registro: "}),Object(f.jsx)("div",{className:"col-6",children:e.currentApplication.fechaRegistro.substr(0,e.currentApplication.fechaRegistro.indexOf("T"))})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-6",children:["C\xf3digo de la convocatoria registrada:"," "]}),Object(f.jsx)("div",{className:"col-6",children:e.currentApplication.codigoConvocatoria})]}),Object(f.jsx)("div",{className:"row mt-3",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h6",{children:"Planificai\xf3n de la postulaci\xf3n"})})}),0===c.length?Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("p",{className:"col-12",children:"A\xfan no existe una planificaci\xf3n registrada"})}):Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("table",{className:"table table-bordered",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Nombre Hito"}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Fecha Inicial"}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Fecha Final"}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Porcentaje % de Cobro"}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:"Entregables"})]}),c.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:e.nombre}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:e.fechaIni}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:e.fechaFin}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:e.porcentajeCobro}),Object(f.jsx)("td",{className:"fs-5 p-3 text-center",children:e.entregables})]},t)}))]})})})}),Object(f.jsx)("div",{className:"row mt-4",children:Object(f.jsx)("h6",{className:"col-12",children:"Documentos adjuntos"})}),Object(f.jsxs)("div",{className:"row justify-content-center",children:[Object(f.jsx)("a",{href:"#",className:"col-auto btn btn-primary me-3",children:"Parte A"}),Object(f.jsx)("a",{href:"#",className:"col-auto btn btn-primary me-3",children:"Boleta de garant\xeda"}),Object(f.jsx)("a",{href:"#",className:"col-auto btn btn-primary me-3",children:"Carta de presentaci\xf3n"}),Object(f.jsx)("a",{href:"#",className:"col-auto btn btn-primary me-3",children:"Constituci\xf3n"}),Object(f.jsx)("a",{href:"#",className:"col-auto btn btn-primary me-3",children:"Parte B"})]})]})})]})})}),Object(f.jsx)(E.a,{open:r,autoHideDuration:6e3,onClose:h,message:b,action:p})]})},$=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return p.get("/postulacion/ordencambio")}},{key:"get",value:function(e){return p.get("/ordendecambio/autollenado/".concat(e))}},{key:"generar",value:function(e){return p.get("/generar/ordencambio/".concat(e))}},{key:"createChangeOrder",value:function(e,t){return p.post("/ordendecambio/terminar/".concat(t),e)}},{key:"createComplianceNotification",value:function(e,t){return p.post("/notificacionconformidad/terminar/".concat(t),e)}},{key:"update",value:function(e,t){return p.put("/ordencambio/".concat(t),e)}},{key:"getOrderDownload",value:function(e){return p.get("/documento/convocatoria/".concat(e))}},{key:"getOrderName",value:function(e){return p.get("/planificacion/ordendeCambio/".concat(e))}},{key:"updatePostOrder",value:function(e){return p.put("/ordencambio/".concat(e))}},{key:"delete",value:function(e){return p.delete("/orden_de_cambio/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/orden_de_cambio")}},{key:"findByTitle",value:function(e){return p.get("/orden_de_cambio?title=".concat(e))}}]),e}()),J=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"updatePostNotification",value:function(e){return p.put("/notificacion/".concat(e))}},{key:"getNotifyDownload",value:function(e){return p.get("/documento/convocatoria/".concat(e))}},{key:"getNotifyName",value:function(e){return p.get("/planificacion/notificaciondeConformidad/".concat(e))}}]),e}()),Y=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAddendumDownload",value:function(e){return p.get("/documento/convocatoria/".concat(e))}},{key:"updatePostAddendum",value:function(e){return p.put("/adenda/".concat(e))}}]),e}()),K=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getContractDownload",value:function(e){return p.get("/documento/convocatoria/".concat(e))}},{key:"updatePostContract",value:function(e){return p.put("/contrato/".concat(e))}}]),e}()),Q=function(e){var t=Object(n.useState)(!1),a=Object(x.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(""),i=Object(x.a)(o,2),r=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(x.a)(d,2),b=u[0],h=u[1],p=Object(n.useState)(""),O=Object(x.a)(p,2),v=O[0],g=O[1],N=function(e,t){"clickaway"!==t&&h(!1)},y=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:N,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),C=function(e){g(e),h(!0)},w={cambio:{title:"Publicar orden de cambio",buttonText:"Visualizar orden de cambio",buttonTextHide:"Ocultar orden de cambio",functionGet:function(){var t=Object(j.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.getOrderDownload(e.currentApplication.orden_cambio);case 2:a=t.sent,l(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),functionPost:function(){var t=Object(j.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.updatePostOrder(e.currentApplication.idGrupoEmpresa);case 2:a=t.sent,C(a.data.mensaje);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},conformidad:{title:"Publicar notificaci\xf3n de conformidad",buttonText:"Visualizar notificaci\xf3n de conformidad",buttonTextHide:"Ocultar notificaci\xf3n de conformidad",functionGet:function(){var t=Object(j.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.getNotifyDownload(e.currentApplication.notificacion_conformidad);case 2:a=t.sent,l(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),functionPost:function(){var t=Object(j.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.updatePostNotification(e.currentApplication.idGrupoEmpresa);case 2:a=t.sent,C(a.data.mensaje);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},adenda:{title:"Publicar adenda",buttonText:"Visualizar adenda",buttonTextHide:"Ocultar adenda",functionGet:function(){var t=Object(j.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.getAddendumDownload(e.currentApplication.adenda);case 2:a=t.sent,l(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),functionPost:function(){var t=Object(j.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.updatePostAddendum(e.currentApplication.idGrupoEmpresa);case 2:a=t.sent,C(a.data.mensaje);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},contrato:{title:"Publicar contrato",buttonText:"Visualizar contrato",buttonTextHide:"Ocultar contrato",functionGet:function(){var t=Object(j.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.getContractDownload(e.currentApplication.contrato);case 2:a=t.sent,l(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),functionPost:function(){var t=Object(j.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.updatePostContract(e.currentApplication.idGrupoEmpresa);case 2:a=t.sent,C(a.data.mensaje);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}};Object(n.useEffect)((function(){e.typeDoc&&w[e.typeDoc].functionGet()}),[e.currentApplication,e.typeDoc]);var k=Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsx)("div",{className:"row mb-2",children:Object(f.jsxs)("div",{className:"col-12",children:["Nombre de la Grupo-Empresa:"," ",e.currentApplication.nombreGrupoEmpresa]})}),Object(f.jsx)("div",{className:"row mb-2",children:Object(f.jsxs)("div",{className:"col-12",children:["T\xedtulo de la convocatoria:"," ",e.currentApplication.tituloConvocatoria]})}),Object(f.jsx)("div",{className:"row mb-2",children:Object(f.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(f.jsxs)("button",{className:"btn btn-primary",type:"button",onClick:function(){s(!c)},children:[e.typeDoc&&!c?w[e.typeDoc].buttonText:"",e.typeDoc&&c?w[e.typeDoc].buttonTextHide:""]})})})]});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:e.modalId,tabIndex:-1,"aria-labelledby":"".concat(e.modalId,"Label"),"aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog ".concat(c?"modal-fullscreen":""),children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",id:"".concat(e.modalId,"Label"),children:e.typeDoc?w[e.typeDoc].title:""}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsx)("div",{className:"modal-body",children:c?Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsxs)("div",{className:"row justify-content-center",children:[Object(f.jsx)("div",{className:"col-auto d-flex align-items-center",children:k}),Object(f.jsx)("div",{className:"col-6",children:Object(f.jsx)("iframe",{title:"pdf",src:"data:application/pdf;base64,".concat(r.slice(r.indexOf(",")+1)),style:{width:"100%",height:"690px"}})})]})}):k}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){e.typeDoc&&w[e.typeDoc].functionPost()},children:"Publicar"})]})]})})}),Object(f.jsx)(E.a,{open:b,autoHideDuration:6e3,onClose:N,message:v,action:y})]})},X=a(200),ee=(a(175),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(i.a)(this,a);return(n=t.call(this,e)).state={applications:[],currentApplication:{nombreGrupoEmpresa:"",idGrupoEmpresa:-1,idConvocatoria:-1,codigoConvocatoria:"",tituloConvocatoria:"",estado:-1,nombreEstado:"",adenda:"",orden_cambio:"",notificacion_conformidad:"",contrato:"",fechaRegistro:"",idPostulacion:-1},typeDoc:"",loading:!0},n.retrieveApplications=n.retrieveApplications.bind(Object(u.a)(n)),n.refreshList=n.refreshList.bind(Object(u.a)(n)),n.renderStateTwoOptions=n.renderStateTwoOptions.bind(Object(u.a)(n)),n.renderStateThreeOptions=n.renderStateThreeOptions.bind(Object(u.a)(n)),n.renderStateFourOptions=n.renderStateFourOptions.bind(Object(u.a)(n)),n.renderStateFiveOptions=n.renderStateFiveOptions.bind(Object(u.a)(n)),n.renderStateSixOptions=n.renderStateSixOptions.bind(Object(u.a)(n)),n.renderStateSevenOptions=n.renderStateSevenOptions.bind(Object(u.a)(n)),n.renderStateNineOptions=n.renderStateNineOptions.bind(Object(u.a)(n)),n.renderStateTenOptions=n.renderStateTenOptions.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveApplications()}},{key:"retrieveApplications",value:function(){var e=this;q.get(w.getCurrentUser().id).then((function(t){e.setState({applications:t.data,loading:!1})})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveApplications(),this.setState({})}},{key:"renderStateTwoOptions",value:function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("a",{className:"btn btn-info dropdown-toggle announcement",role:"button",id:"dropdown".concat(e),"data-bs-toggle":"dropdown","aria-expanded":!1,children:"Opciones"}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdown".concat(e),children:Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:"/application_review",style:{textDecoration:"none"},children:Object(f.jsx)("a",{className:"dropdown-item",onClick:function(){localStorage.setItem("idPostulacion",t+"")},children:"Revisar documentos"})})})})]})}},{key:"renderStateThreeOptions",value:function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("a",{className:"btn btn-info dropdown-toggle announcement",role:"button",id:"dropdown".concat(e),"data-bs-toggle":"dropdown","aria-expanded":!1,children:"Opciones"}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdown".concat(e),children:Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:"/grade_application",style:{textDecoration:"none"},children:Object(f.jsx)("button",{className:"dropdown-item",onClick:function(){localStorage.setItem("idPostulacionCalificacion",t+"")},children:"Calificar documentos"})})})})]})}},{key:"renderStateFourOptions",value:function(e,t,a){var n=this;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:"btn btn-info btn-md dropdown-toggle announcement",type:"button",id:"dropdownMenuButton".concat(a),"data-bs-toggle":"dropdown","aria-expanded":!1,onClick:function(){n.setState({currentApplication:e})},children:"Opciones"}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton".concat(a),children:Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#".concat(t),onClick:function(){n.setState({typeDoc:"conformidad"})},children:"Publicar notificacion de conformidad"})})})]})}},{key:"renderStateFiveOptions",value:function(e,t,a){var n=this;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:"btn btn-info btn-md dropdown-toggle announcement",type:"button",id:"dropdownMenuButton".concat(a),"data-bs-toggle":"dropdown","aria-expanded":!1,onClick:function(){n.setState({currentApplication:e})},children:"Opciones"}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton".concat(a),children:Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#".concat(t),onClick:function(){n.setState({typeDoc:"contrato"})},children:"Publicar contrato"})})})]})}},{key:"renderStateSixOptions",value:function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("a",{className:"btn btn-info dropdown-toggle announcement",role:"button",id:"dropdown".concat(e),"data-bs-toggle":"dropdown","aria-expanded":!1,children:"Opciones"}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdown".concat(e),children:Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:"/grade_observations",style:{textDecoration:"none"},children:Object(f.jsx)("button",{className:"dropdown-item",onClick:function(){localStorage.setItem("idPostulacionCalificacion",t+"")},children:"Calificar documentos"})})})})]})}},{key:"renderStateSevenOptions",value:function(e,t,a){var n=this;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:"btn btn-info btn-md dropdown-toggle announcement",type:"button",id:"dropdownMenuButton".concat(a),"data-bs-toggle":"dropdown","aria-expanded":!1,onClick:function(){n.setState({currentApplication:e})},children:"Opciones"}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton".concat(a),children:Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#".concat(t),onClick:function(){n.setState({typeDoc:"cambio"})},children:"Publicar orden de cambio"})})})]})}},{key:"renderStateNineOptions",value:function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("a",{className:"btn btn-info dropdown-toggle announcement",role:"button",id:"dropdown".concat(e),"data-bs-toggle":"dropdown","aria-expanded":!1,children:"Opciones"}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdown".concat(e),children:Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:"/observations_review",style:{textDecoration:"none"},children:Object(f.jsx)("a",{className:"dropdown-item",children:"Revisar documentacion corregida"})})})})]})}},{key:"renderStateTenOptions",value:function(e,t,a){var n=this;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:"btn btn-info btn-md dropdown-toggle announcement",type:"button",id:"dropdownMenuButton".concat(a),"data-bs-toggle":"dropdown","aria-expanded":!1,onClick:function(){n.setState({currentApplication:e})},children:"Opciones"}),Object(f.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton".concat(a),children:Object(f.jsx)("li",{children:Object(f.jsx)("a",{className:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#".concat(t),onClick:function(){n.setState({typeDoc:"adenda"})},children:"Publicar adenda"})})})]})}},{key:"render",value:function(){var e=this,t=this.state.applications,a="modal-details-application",n="modal-post-documents";return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(W,{modalId:a,currentApplication:this.state.currentApplication}),Object(f.jsx)(Q,{modalId:n,typeDoc:this.state.typeDoc,currentApplication:this.state.currentApplication}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h3",{children:"Postulaciones"})})}),Object(f.jsxs)("div",{className:"row mb-2",children:[Object(f.jsx)("div",{className:"col-4 ms-5",children:"Nombre"}),Object(f.jsx)("div",{className:"col-3",children:"Titulo"}),Object(f.jsx)("div",{className:"col-3",children:"Estado"})]}),t&&t.map((function(t,c){return Object(f.jsxs)("div",{className:"row mx-0 mb-2",children:[Object(f.jsx)("button",{className:"btn btn-info col-8 btn-md application-left","data-bs-toggle":"modal","data-bs-target":"#".concat(a),onClick:function(){e.setState({currentApplication:t})},children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-md-5",children:t.nombreGrupoEmpresa}),Object(f.jsx)("div",{className:"col-md-7",children:t.tituloConvocatoria})]})}),Object(f.jsx)(X.a,{title:Object(f.jsx)("p",{style:{fontSize:"18px"},children:t.nombreEstado}),arrow:!0,children:Object(f.jsx)("div",{className:"btn btn-info col-3 btn-md application-right\n                  ".concat(1===t.estado||8===t.estado?"state-one":2===t.estado||9===t.estado?"state-two":3===t.estado||6===t.estado?"state-three":4===t.estado||5===t.estado||7===t.estado||10===t.estado?"state-four":11===t.estado?"state-five":""),"data-bs-toggle":"modal","data-bs-target":"#".concat(a),children:1===t.estado||8===t.estado?"En espera de documentos":2===t.estado||9===t.estado?"Postulacion no revisada":3===t.estado||6===t.estado?"En espera de calificacion":4===t.estado||5===t.estado||7===t.estado||10===t.estado?"En espera de publicacion":11===t.estado?"Postulacion concluida":""})}),Object(f.jsx)("div",{className:"dropdown col-1",children:2===t.estado&&e.renderStateTwoOptions(t.idGrupoEmpresa,t.idPostulacion)||3===t.estado&&e.renderStateThreeOptions(t.idGrupoEmpresa,t.idPostulacion)||4===t.estado&&e.renderStateFourOptions(t,n,c)||5===t.estado&&e.renderStateFiveOptions(t,n,c)||6===t.estado&&e.renderStateSixOptions(t.idGrupoEmpresa,t.idPostulacion)||7===t.estado&&e.renderStateSevenOptions(t,n,c)||9===t.estado&&e.renderStateNineOptions(t.idGrupoEmpresa)||10===t.estado&&e.renderStateTenOptions(t,n,c)})]},c)})),0===t.length&&!this.state.loading&&Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row align-items-center text-info",style:{minHeight:"50vh"},children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("div",{children:Object(f.jsx)("h1",{children:"\xa1Vaya!"})}),Object(f.jsx)("div",{children:Object(f.jsx)("h5",{className:"text-secondary",children:"Parece que no hay ningun elemento para mostrar"})})]})})}),this.state.loading&&Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row align-items-center text-info",style:{minHeight:"60vh"},children:Object(f.jsx)("div",{className:"col-2 offset-2",children:Object(f.jsx)("div",{className:"spinner-border fs-1",style:{width:"4rem",height:"4rem"},role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})})]})]})}}]),a}(n.Component)),te=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={companyGroups:[{nombreGrupoEmpresa:"Iridium",idGrupoEmpresa:1,idConvocatoria:1,codigoConvocatoria:"2020convo-2",tituloConvocatoria:"Convocatoria primera",id:1},{nombreGrupoEmpresa:"Pacha",idGrupoEmpresa:2,idConvocatoria:1,codigoConvocatoria:"2020convo-2",tituloConvocatoria:"Convocatoria primera",id:2},{nombreGrupoEmpresa:"AlgoSoft",idGrupoEmpresa:3,idConvocatoria:1,codigoConvocatoria:"2020convo-2",tituloConvocatoria:"Convocatoria primera",id:3}],companyGroup:"",companyGroupId:0,dateOfIssue:"",sections:[],observations:[{observacion:"",descripcion:""}],observation:"",description:"",message:"",open:!1},n.retrieveAddendumData=n.retrieveAddendumData.bind(Object(u.a)(n)),n.handleCompanyGroup=n.handleCompanyGroup.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveAddendumData()}},{key:"retrieveAddendumData",value:function(){var e=this;$.get("1").then((function(t){e.setState({companyGroups:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"handleCompanyGroup",value:function(){for(var e=this.state.companyGroups,t=0,a=0;a<e.length;a++)e[a].nombre===this.state.companyGroup&&(t=e[a].id);this.setState({companyGroupId:t})}},{key:"handleSubmit",value:function(){return""===this.state.companyGroup?(this.setState({message:"No selecciono niguna Grupo Empresa",open:!0}),!1):""===this.state.dateOfIssue?(this.setState({message:"No selecciono ninguna fecha de emision de contrato",open:!0}),!1):void 0}},{key:"render",value:function(){var e=this,t=this.state,a=t.companyGroups,n=t.sections,c=function(t,a){"clickaway"!==a&&e.setState({open:!1})},s=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:c,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"asd",tabIndex:-1,"aria-labelledby":"labelasd",role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfEst\xe1 seguro de cancelar la el registro de su adenda?"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary text-white","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-info text-white",onClick:function(){window.location.reload()},children:"Confirmar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-8",children:Object(f.jsx)("h3",{children:"Adenda"})})}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"codigoConvocatoria",className:"col-md-4 col-form-label",children:"Grupo Empresa"}),Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsxs)("select",{className:"form-select form-select-lg",value:this.state.companyGroup,onChange:function(t){e.setState({companyGroup:t.target.value}),e.handleCompanyGroup()},children:[Object(f.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Seleccione una grupo empresa"}),a&&a.map((function(e){return Object(f.jsx)("option",{value:e.nombreGrupoEmpresa,children:e.nombreGrupoEmpresa})}))]})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"fechaContrato",className:"col-md-4 col-form-label",children:"Fecha de emision de contrato"}),Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsx)("input",{type:"date",className:"form-control",id:"fechaContrato",name:"fechaContrato",required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3 pt-4",children:["Observaciones de la documentacion",Object(f.jsx)("table",{className:"table table-bordered",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"col-4 fs-5 p-2",children:Object(f.jsx)("strong",{children:"Observacion"})}),Object(f.jsx)("td",{className:"col-8 fs-5 p-2",children:Object(f.jsx)("strong",{children:"Descripcion de la observacion"})}),Object(f.jsx)("td",{className:"borderless-cell"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsxs)("select",{className:"form-select form-select-sm",value:this.state.observation,onChange:function(t){e.setState({observation:t.target.value})},children:[Object(f.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Seleccione una observacion"}),n&&n.map((function(e){return Object(f.jsx)("option",{value:e.seccion,children:e.seccion})}))]})}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{type:"text",className:"input col-12",id:"entregables",name:"entregables",required:!0})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"borderless-cell"}),Object(f.jsx)("td",{className:"borderless-cell",children:Object(f.jsx)("div",{className:"col-4 offset-8",children:Object(f.jsx)("button",{className:"btn btn-lg btn-success bg-success addButton",children:"Agregar Observacion"})})}),Object(f.jsx)("td",{className:"borderless-cell",children:Object(f.jsx)("button",{className:"btn btn-secondary",title:"Borrar hito",children:Object(f.jsx)("i",{className:"fa fa-trash fs-3"})})})]})]})})]}),Object(f.jsxs)("div",{className:"form-group row m-3 d-flex justify-content-end",children:[Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"button",className:"btn btn-lg btn-danger text-white","data-bs-toggle":"modal","data-bs-target":"#asd",children:"Cancelar"})}),Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-lg btn-success",onClick:this.handleSubmit,children:"Registrar"})})]})]}),Object(f.jsx)(E.a,{open:this.state.open,autoHideDuration:6e3,onClose:c,message:this.state.message,action:s})]})}}]),a}(n.Component),ae=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleScores=function(e){n.setState({scoresObtained:e})},n}return Object(r.a)(a,[{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-8",children:Object(f.jsx)("h3",{children:"Contrato de prestacion de servicios"})})}),Object(f.jsxs)("div",{className:"form-group row m-3 pt-4",children:[Object(f.jsx)("label",{htmlFor:"codigoConvocatoria",className:"col-md-4 col-form-label",children:"Grupo Empresa"}),Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsx)("select",{className:"form-select form-select-lg",id:"codigoConvocatoria",name:"codigoConvocatoria",children:Object(f.jsx)("option",{value:"",selected:!0,children:"Seleccione la Grupo Empresa"})})})]}),Object(f.jsxs)("div",{className:"form-group row m-3 pt-4",children:[Object(f.jsx)("label",{htmlFor:"fechaContrato",className:"col-md-4 col-form-label",children:"Fecha de emision de contrato"}),Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsx)("input",{type:"date",className:"form-control",id:"fechaContrato",name:"fechaContrato",required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3 pt-4 d-flex justify-content-end",children:[Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"button",className:"btn btn-lg btn-danger text-white","data-bs-toggle":"modal","data-bs-target":"#popupCancelModalPetis",children:"Cancelar"})}),Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-lg btn-success",children:"Registrar"})})]})]})})}}]),a}(n.Component),ne=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return p.get("/postulacion/ordencambio")}},{key:"get",value:function(e){return p.get("/revision/postulacion/".concat(e))}},{key:"sendReview",value:function(e,t){return p.put("/terminarrevision/postulacion/".concat(e),t)}},{key:"registerObservation",value:function(e){return p.post("/revision/observaciones/",e)}},{key:"deleteObservation",value:function(e){return p.put("/eliminarObs/".concat(e))}},{key:"obtenerDocumento",value:function(e){return p.get("/revision/documentos/".concat(e))}},{key:"create",value:function(e){return p.post("/postulacion/ordencambio/",e)}},{key:"update",value:function(e,t){return p.put("/ordencambio/".concat(t),e)}},{key:"delete",value:function(e){return p.delete("/orden_de_cambio/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/orden_de_cambio")}}]),e}()),ce=a(203),se=a(204),oe=a(205),ie=a(206),re=a(207),le=a(208),de=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={nombreGrupoEmpresa:"",documentos:[],indiceDocumentoActual:0,documentoActual:{},documentoBase64:"",seccion:"",descripcion:"",observaciones:[],open:!1,message:""},n.getDocument=n.getDocument.bind(Object(u.a)(n)),n.retrieveData=n.retrieveData.bind(Object(u.a)(n)),n.retrieveFirstData=n.retrieveFirstData.bind(Object(u.a)(n)),n.handleSeccion=n.handleSeccion.bind(Object(u.a)(n)),n.addObservation=n.addObservation.bind(Object(u.a)(n)),n.deleteObservation=n.deleteObservation.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveFirstData()}},{key:"retrieveFirstData",value:function(){var e=this;ne.get(localStorage.getItem("idPostulacion")+"").then((function(t){e.setState({nombreGrupoEmpresa:t.data.nombreGP,documentos:t.data.documentos,indiceDocumentoActual:0,documentoActual:t.data.documentos[0]}),e.getDocument(0);var a=[];e.state.documentos.map((function(e){e.observaciones.map((function(t){a.push({documento:e.nombreDocumento,idDocumento:e.idDocumento,observacion:t})}))})),e.setState({observaciones:a})})).catch((function(e){console.log(e)}))}},{key:"retrieveData",value:function(){var e=this;ne.get(localStorage.getItem("idPostulacion")+"").then((function(t){e.setState({nombreGrupoEmpresa:t.data.nombreGP,documentos:t.data.documentos});var a=[];e.state.documentos.map((function(e){e.observaciones.map((function(t){a.push({documento:e.nombreDocumento,idDocumento:e.idDocumento,observacion:t})}))})),e.setState({observaciones:a})})).catch((function(e){console.log(e)}))}},{key:"getDocument",value:function(e){var t=this,a=this.state.indiceDocumentoActual+e;ne.obtenerDocumento(this.state.documentos[a].rutaDocumento).then((function(e){t.setState({documentoBase64:e.data,indiceDocumentoActual:a,documentoActual:t.state.documentos[a]})})).catch((function(e){console.log(e)}))}},{key:"handleSeccion",value:function(e){this.setState({seccion:e.target.value})}},{key:"addObservation",value:function(){var e=this;""!==this.state.seccion&&""!==this.state.descripcion?/[a-zA-Z0-9.]+/.test(this.state.seccion)?/[a-zA-Z0-9.]+/.test(this.state.descripcion)?ne.registerObservation({idDoc:this.state.documentoActual.idDocumento,seccion:this.state.seccion,descripcion:this.state.descripcion,revisado:!1,corregido:!1}).then((function(t){e.setState({seccion:"",descripcion:"",message:"Se registro exitosamente la observacion",open:!0}),e.retrieveData()})):this.setState({message:"El campo Descripcion esta llenado incorrectamente",open:!0}):this.setState({message:"El campo Seccion esta llenado incorrectamente",open:!0}):this.setState({message:"Todos los campos deben estar llenos",open:!0})}},{key:"deleteObservation",value:function(e){var t=this;ne.deleteObservation(e+"").then((function(e){t.setState({message:"Se ha eliminado correctamente",open:!0}),t.retrieveData()}))}},{key:"render",value:function(){var e,t=this,a=function(e,a){"clickaway"!==a&&t.setState({open:!1})},n=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:a,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),c=this.state.observaciones;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"asd",tabIndex:-1,"aria-labelledby":"labelasd",role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfEst\xe1 seguro de que termino el registro de su revision?"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("p",{className:"container-fluid",children:["En base a sus datos registrados se registrara una"," ",Object(f.jsx)("strong",{children:0===this.state.observaciones.length?"NOTIFICACION DE CONFORMIDAD":"ORDEN DE CAMBIO"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-danger text-white","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-success text-white",onClick:Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.sendReview(Number(localStorage.getItem("idPostulacion")+""),{orden_cambio:0===t.state.observaciones.length?0:1});case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)}))),children:"Continuar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsxs)("h3",{className:"row border-bottom border-dark",children:[Object(f.jsx)("div",{className:"col-5",children:Object(f.jsx)("h3",{className:"align-middle",children:"Revision de postulacion"})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsxs)("h4",{className:"mt-2",children:["Nombre: ",this.state.nombreGrupoEmpresa]})}),Object(f.jsx)("div",{className:"col-3",children:Object(f.jsx)("button",{className:"btn-lg mb-2 col-12 btn-info text-white","data-bs-toggle":"modal","data-bs-target":"#asd",children:"Terminar revision"})})]}),Object(f.jsxs)("div",{className:"row mb-2",children:[Object(f.jsx)("div",{className:"col-5",children:Object(f.jsx)("h4",{className:"mt-2",children:null===(e=this.state.documentoActual)||void 0===e?void 0:e.nombreDocumento})}),Object(f.jsxs)("div",{className:"col-2 mt-2 ms-5",children:[Object(f.jsx)("button",{className:"btn ".concat(0===this.state.indiceDocumentoActual?"d-none":""),onClick:function(){t.getDocument(-1)},children:Object(f.jsx)("i",{className:"fa fa-chevron-left fs-4"})}),Object(f.jsx)("button",{className:"btn ms-5 ".concat(this.state.indiceDocumentoActual===this.state.documentos.length-1?"d-none":""),onClick:function(){t.getDocument(1)},children:Object(f.jsx)("i",{className:"fa fa-chevron-right fs-4"})})]})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-7",children:Object(f.jsx)("iframe",{title:"no",src:"data:application/pdf;base64,".concat(this.state.documentoBase64),style:{width:"100%",height:"690px"}})}),Object(f.jsxs)("div",{className:"col-5",children:[Object(f.jsxs)("div",{className:"row mb-4",children:[Object(f.jsx)("div",{className:"col-3 fs-5",children:"Seccion:"}),Object(f.jsx)("div",{className:"col-7",children:Object(f.jsx)("input",{className:"col-12",type:"text",value:this.state.seccion,onChange:this.handleSeccion})})]}),Object(f.jsxs)("div",{className:"row mb-4",children:[Object(f.jsx)("div",{className:"col-12 fs-5 mb-3",children:"Observacion:"}),Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("textarea",{className:"col-12",style:{height:"100px",resize:"none"},value:this.state.descripcion,onChange:function(e){t.setState({descripcion:e.target.value})}})})]}),Object(f.jsx)("div",{className:"row mb-4",children:Object(f.jsx)("div",{className:"col-4 offset-9",children:Object(f.jsx)("button",{className:"btn btn-info text-white",onClick:this.addObservation,children:"Registrar"})})}),Object(f.jsx)("div",{className:"row border border-dark",style:{height:"400px"},children:Object(f.jsx)("span",{className:"col-12",children:Object(f.jsx)(ce.a,{style:{height:"400px"},children:Object(f.jsxs)(se.a,{"aria-label":"simple table",children:[Object(f.jsx)(oe.a,{children:Object(f.jsxs)(ie.a,{children:[Object(f.jsx)(re.a,{className:"col-2",children:Object(f.jsx)("strong",{children:"Documento"})}),Object(f.jsx)(re.a,{className:"col-2",children:Object(f.jsx)("strong",{children:"Seccion"})}),Object(f.jsx)(re.a,{className:"col-8",children:Object(f.jsx)("strong",{children:"Descripcion"})})]})}),Object(f.jsx)(le.a,{children:c&&c.map((function(e){return Object(f.jsxs)(ie.a,{children:[Object(f.jsx)(re.a,{component:"th",scope:"row",children:e.documento}),Object(f.jsx)(re.a,{children:e.observacion.seccionDoc}),Object(f.jsx)(re.a,{width:"15px",children:e.observacion.descripcion}),Object(f.jsx)(re.a,{children:Object(f.jsx)("button",{className:"btn",onClick:function(){t.deleteObservation(e.observacion.id)},children:Object(f.jsx)("i",{className:"fa fa-trash"})})})]})}))})]})})})})]})]})]}),Object(f.jsx)(E.a,{open:this.state.open,autoHideDuration:6e3,onClose:a,message:this.state.message,action:n})]})}}]),a}(n.Component),ue=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"get",value:function(e){return p.get("/ver/observaciones/".concat(e))}},{key:"saveObservations",value:function(e){return p.post("/aniadir/observaciones/",e)}},{key:"obtenerDocumento",value:function(e){return p.get("/enviar/documentos/".concat(e))}}]),e}()),be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={nombreGrupoEmpresa:"",documentos:[],indiceDocumentoActual:0,documentoActual:{},documentoBase64:"",observaciones:[],esAdenda:!1,open:!1,message:"Error",correct:!1},n.getDocument=n.getDocument.bind(Object(u.a)(n)),n.retrieveData=n.retrieveData.bind(Object(u.a)(n)),n.retrieveFirstData=n.retrieveFirstData.bind(Object(u.a)(n)),n.openCloseObservation=n.openCloseObservation.bind(Object(u.a)(n)),n.handleCorrect=n.handleCorrect.bind(Object(u.a)(n)),n.handleSave=n.handleSave.bind(Object(u.a)(n)),n.handleFinish=n.handleFinish.bind(Object(u.a)(n)),n.verifyProduct=n.verifyProduct.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveFirstData()}},{key:"retrieveFirstData",value:function(){var e=this;ue.get("1").then((function(t){e.setState({nombreGrupoEmpresa:t.data.nombreGP,documentos:t.data.documentos,indiceDocumentoActual:0,documentoActual:t.data.documentos[0]}),e.getDocument(0);var a=[];e.state.documentos.map((function(e){e.observaciones.map((function(t){a.push({documento:e.nombreDocumento,idDocumento:e.idDocumento,idObservacion:t.id,observacion:t,open:!1,corregido:t.corregido,revisado:t.revisado})}))})),e.setState({observaciones:a})})).catch((function(e){console.log(e)}))}},{key:"retrieveData",value:function(){var e=this;ue.get("1").then((function(t){e.setState({nombreGrupoEmpresa:t.data.nombreGP,documentos:t.data.documentos});var a=[];e.state.documentos.map((function(e){e.observaciones.map((function(t){a.push({documento:e.nombreDocumento,idDocumento:e.idDocumento,idObservacion:t.id,observacion:t,open:!1,corregido:t.corregido,revisado:t.revisado})}))})),e.setState({observaciones:a})})).catch((function(e){console.log(e)}))}},{key:"getDocument",value:function(e){var t=this,a=this.state.indiceDocumentoActual+e;ue.obtenerDocumento(this.state.documentos[a].rutaDocumento).then((function(e){t.setState({documentoBase64:e.data,indiceDocumentoActual:a,documentoActual:t.state.documentos[a]})})).catch((function(e){console.log(e)}))}},{key:"openCloseObservation",value:function(e){for(var t=this.state.observaciones,a=0,n=0;n<t.length;n++)e===t[n].idObservacion&&(a=n);var c=this.state.observaciones[a];c.open=!c.open,t[a]=c,this.setState({observaciones:t})}},{key:"handleCorrect",value:function(e,t){for(var a=this.state.observaciones,n=0,c=0;c<a.length;c++)e===a[c].idObservacion&&(n=c);var s=this.state.observaciones[n];s.revisado=!0,s.corregido=t,a[n]=s,this.setState({observaciones:a})}},{key:"handleSave",value:function(){var e=this,t=!1;if(this.state.observaciones.map((function(a){if(a.revisado&&!a.corregido&&!a.observacion.correccion)return e.setState({message:"Existen observaciones mal corregidas vacias, por favor llene el campo Correccion",open:!0}),void(t=!0)})),!t){var a=[];this.state.observaciones.map((function(e){a.push({idObservacion:e.idObservacion,corregido:e.corregido,revisado:e.revisado,correccion:e.observacion.correccion})})),ue.saveObservations(a).then((function(t){e.setState({message:t.data.mensaje,open:!0})})).catch((function(e){console.log(e)}))}}},{key:"handleFinish",value:function(){for(var e=0,t=!0;e<this.state.observaciones.length&&t;)this.state.observaciones[e].revisado||(this.setState({message:"Usted debe terminar de corregir todas las observaciones",open:!0,correct:!1}),t=!1),e++;this.verifyProduct(),t&&this.setState({correct:!0})}},{key:"verifyProduct",value:function(){var e=this;this.state.observaciones.map((function(t){t.corregido||e.setState({esAdenda:!0})}))}},{key:"render",value:function(){var e,t=this,a=function(e,a){"clickaway"!==a&&t.setState({open:!1})},n=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:a,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),c=this.state.observaciones,s=-1;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"asd",tabIndex:-1,"aria-labelledby":"labelasd",role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfEst\xe1 seguro de que termino el registro de su revision?"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("p",{className:"container-fluid",children:["Se generara ",Object(f.jsx)("strong",{children:this.state.esAdenda?"una adenda":"un contrato"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-danger text-white","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-success text-white",onClick:function(){window.location.reload()},children:"Continuar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsxs)("h3",{className:"row border-bottom border-dark",children:[Object(f.jsx)("div",{className:"col-5",children:Object(f.jsx)("h3",{className:"align-middle",children:"Revision de observaciones"})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsxs)("h4",{className:"mt-2",children:["Nombre: ",this.state.nombreGrupoEmpresa]})}),Object(f.jsx)("div",{className:"col-3",children:Object(f.jsx)("button",{className:"btn-lg mb-2 col-12 btn-info text-white","data-bs-toggle":"".concat(this.state.correct?"modal":""),"data-bs-target":"#asd",onClick:this.handleFinish,children:"Terminar calificacion"})})]}),Object(f.jsxs)("div",{className:"row mb-2",children:[Object(f.jsx)("div",{className:"col-5",children:Object(f.jsx)("h4",{className:"mt-2",children:null===(e=this.state.documentoActual)||void 0===e?void 0:e.nombreDocumento})}),Object(f.jsxs)("div",{className:"col-2 mt-2 ms-5",children:[Object(f.jsx)("button",{className:"btn ".concat(0===this.state.indiceDocumentoActual?"d-none":""),onClick:function(){t.getDocument(-1)},children:Object(f.jsx)("i",{className:"fa fa-chevron-left fs-4"})}),Object(f.jsx)("button",{className:"btn ms-5 ".concat(this.state.indiceDocumentoActual===this.state.documentos.length-1?"d-none":""),onClick:function(){t.getDocument(1)},children:Object(f.jsx)("i",{className:"fa fa-chevron-right fs-4"})})]})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-7",children:Object(f.jsx)("iframe",{title:"no",src:"data:application/pdf;base64,".concat(this.state.documentoBase64),style:{width:"100%",height:"690px"}})}),Object(f.jsxs)("div",{className:"col-5",children:[Object(f.jsx)("div",{className:"row border border-dark",style:{height:"600px"},children:Object(f.jsx)("span",{className:"col-12",children:Object(f.jsx)(ce.a,{style:{height:"600px"},children:Object(f.jsx)(se.a,{"aria-label":"simple table",children:Object(f.jsx)(le.a,{children:c&&c.map((function(e){return s++,Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ie.a,{className:"row ".concat(e.open?"d-none":""),children:Object(f.jsx)("button",{className:"btn btn-info btn-block mt-2 text-white",style:{fontSize:"17px"},onClick:function(){t.openCloseObservation(e.idObservacion)},children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-6",children:["Observacion: ",e.observacion.id]}),Object(f.jsxs)("div",{className:"col-6",children:["Corregida: ",Object(f.jsx)("i",{className:"fs-5 fa\n ".concat(e.revisado?e.corregido?"fa-circle text-success":"fa-circle text-danger":"fa-exclamation-circle text-warning")})]})]})})}),Object(f.jsxs)(ie.a,{className:"row ".concat(e.open?"":"d-none"),children:[Object(f.jsx)("button",{className:"btn btn-info btn-block mt-2 text-white",style:{fontSize:"17px"},onClick:function(){t.openCloseObservation(e.idObservacion)},children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-4",children:["Observacion: ",e.observacion.id]})})}),Object(f.jsxs)("div",{className:"bg-info text-white",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-5",children:["Documento: ",e.documento]}),Object(f.jsxs)("div",{className:"col-6",children:["Seccion: ",e.observacion.seccionDoc]})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-6",children:"Observacion corregida:"}),Object(f.jsxs)("div",{className:"col-6",children:["Si ",Object(f.jsx)("input",{className:"form-check-input ms-3 me-4",type:"radio",name:"flexRadioDefault".concat(e.observacion.id),checked:e.revisado&&e.corregido,id:"radioButtonObservation".concat(e.observacion.id),onChange:function(){t.handleCorrect(e.idObservacion,!0)}}),"No ",Object(f.jsx)("input",{className:"form-check-input ms-3 me-4",type:"radio",name:"flexRadioDefault".concat(e.observacion.id),checked:e.revisado&&!e.corregido,id:"radioButtonObservation".concat(e.observacion.id),onChange:function(){t.handleCorrect(e.idObservacion,!1)}})," "]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-4",children:"Descripcion:"})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("textarea",{className:"col-12 mt-1",style:{resize:"none"},disabled:!0,value:e.observacion.descripcion})})}),Object(f.jsx)("div",{className:"row ".concat(!t.state.observaciones[s].revisado||t.state.observaciones[s].corregido?"d-none":""),children:Object(f.jsx)("div",{className:"col-4",children:"Correccion:"})}),Object(f.jsx)("div",{className:"row ".concat(!t.state.observaciones[s].revisado||t.state.observaciones[s].corregido?"d-none":""),children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("textarea",{className:"col-12 mt-1",style:{resize:"none"},value:t.state.observaciones[s].observacion.correccion,onChange:function(a){for(var n=t.state.observaciones,c=0,s=0;s<n.length;s++)e.observacion.id===n[s].idObservacion&&(c=s);t.state.observaciones[c].observacion.correccion=a.target.value,t.setState({observaciones:n})}})})})]})]})]})}))})})})})}),Object(f.jsx)("div",{className:"row mt-3",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("button",{className:"offset-3 col-6 btn-lg btn-success text-white",onClick:this.handleSave,children:"Guardar"})})})]})]})]}),Object(f.jsx)(E.a,{open:this.state.open,autoHideDuration:6e3,onClose:a,message:this.state.message,action:n})]})}}]),a}(n.Component),me=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(e){return p.get("/postulacion/bandejaentrada/".concat(e))}},{key:"getDocumentFile",value:function(e){return p.get("/documento/revision/"+e)}},{key:"postDocumentForChangeOrder",value:function(e){return p.post("/documento/revision",e)}}]),e}()),je=function(e){var t=Object(n.useState)(!1),a=Object(x.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(!1),i=Object(x.a)(o,2),r=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(x.a)(d,2),b=u[0],h=u[1],p=Object(n.useState)(""),O=Object(x.a)(p,2),v=O[0],g=O[1],N=Object(n.useState)([!1,!1,!1,!1,!1,!1]),y=Object(x.a)(N,2),C=y[0],w=y[1],k=Object(n.useState)([]),S=Object(x.a)(k,2),D=S[0],P=S[1],A=Object(n.useState)(""),F=Object(x.a)(A,2),I=F[0],_=F[1],T=function(){me.getDocumentFile(e.nameDocumentReceived).then((function(e){_(e.data)})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){T()}),[e.nameDocumentReceived]);var R=function(){D.length===e.listDocsForOrderChange.length?s(!0):s(!1)};Object(n.useEffect)((function(){R()}),[D,e.listDocsForOrderChange]);var B=function(e,t){"clickaway"!==t&&h(!1)},M=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:B,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),L=function(e,t){e.target.files<1||!e.target.validity.valid||function(e,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(null,a.result)},a.onerror=function(e){t(e,null)}}(e.target.files[0],(function(e,a){if(a){for(var n=D,c=!1,s=0;s<n.length;s++)if(n[s].documento_id===t){n[s].documento=a,c=!0;break}c||n.push({documento_id:t,documento:a}),P(n),R()}else console.log(e)}))},U="inboxConfirm";return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:U,tabIndex:-1,"aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfDesea enviar los documentos subidos a la empresa TIS?"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){me.postDocumentForChangeOrder(D).then((function(e){g(e.data),h(!0)}))},children:"Aceptar"})]})]})})}),Object(f.jsx)("div",{className:"modal fade",id:e.modalId,tabIndex:-1,"aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:e.typeDocument}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("p",{className:"text-secondary col-6",children:Object(f.jsx)("strong",{children:"C\xf3digo del documento: "})}),Object(f.jsx)("p",{className:"text-secondary col-6",children:Object(f.jsx)("strong",{children:e.codeDocument})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("p",{className:"text-secondary col-6",children:Object(f.jsx)("strong",{children:"Fecha de recepci\xf3n: "})}),Object(f.jsx)("p",{className:"text-secondary col-6",children:Object(f.jsx)("strong",{children:e.receptionDate})})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(f.jsx)("a",{download:"".concat(e.nameDocument,".pdf"),className:"btn btn-primary",type:"button",href:I,onClick:Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:case"end":return e.stop()}}),e)}))),children:"Descargar documento ".concat(e.nameDocument)})})}),e.listDocsForOrderChange.length>0&&Object(f.jsx)("div",{className:"row d-flex justify-content-end mt-4",children:Object(f.jsxs)("button",{className:"btn col-auto btn-primary me-3",onClick:function(){l(!r)},children:["Devolver revisi\xf3n"," ",Object(f.jsx)("span",{className:"fas ".concat(r?"fa-chevron-circle-up":"fa-chevron-circle-down")})]})})]}),r&&e.listDocsForOrderChange.length>0&&Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault()},className:"modal-footer d-flex justify-content-center",children:[Object(f.jsx)("h6",{children:"Devolver documentos revisados"}),Object(f.jsx)("div",{className:"col-12",children:e.listDocsForOrderChange.map((function(e,t){return Object(f.jsxs)("div",{className:"file-upload btn ".concat(C[t]?"btn-primary":"btn-secondary"),style:{width:"215px",height:"50px",margin:"5px"},children:[Object(f.jsx)("span",{children:e.nombre+" "}),Object(f.jsx)("input",{type:"file",name:"docUploadOC".concat(t),id:"docUploadOC".concat(t),accept:"application/pdf",className:"upload",onChange:function(a){L(a,e.id);var n=C;n[t]=!0,w(n),s(!0)},required:!0}),Object(f.jsx)("div",{className:"fa fa-upload icon"})]},e.id)}))}),Object(f.jsx)("div",{className:"col-12 mt-5",children:Object(f.jsx)("div",{className:"row justify-content-end",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-success col-auto me-3","data-bs-toggle":c?"modal":"","data-bs-target":"#".concat(U),onClick:function(){D.length!==e.listDocsForOrderChange.length&&(g("Debe subir todos los documentos"),h(!0))},children:"Enviar documentos"})})})]})]})})}),Object(f.jsx)(E.a,{open:b,autoHideDuration:6e3,onClose:B,message:v,action:M})]})},he=function(e){var t=Object(n.useState)(null),a=Object(x.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)({documento:{idDocumento:"",nombreDocumento:"",codDocumento:"",fechaRecepcion:"",documento:""},docRequeridos:[]}),i=Object(x.a)(o,2),r=i[0],l=i[1],d=Object(n.useState)(!0),u=Object(x.a)(d,2),b=u[0],m=u[1];Object(n.useEffect)((function(){me.getAll(w.getCurrentUser().id).then((function(e){s(e.data),m(!1)})).catch((function(e){console.log(e)}))}),[]);var j="modal-documents-postulation";return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(je,{modalId:j,nameDocument:r.documento.nombreDocumento,typeDocument:r.documento.nombreDocumento,codeDocument:r.documento.codDocumento,receptionDate:r.documento.fechaRecepcion,nameDocumentReceived:r.documento.documento,listDocsForOrderChange:r.docRequeridos}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h3",{children:"Bandeja de Entrada"})})}),(null===c||void 0===c?void 0:c.documento)&&c.documento.map((function(e,t){return Object(f.jsx)("div",{className:"row mx-0 mb-2",children:Object(f.jsx)("button",{className:"btn btn-info col-12 btn-md announcement","data-bs-toggle":"modal","data-bs-target":"#".concat(j),onClick:function(){l({documento:e,docRequeridos:"Orden de Cambio"===e.nombreDocumento?c.docRequeridos:[]})},children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-4",children:e.nombreDocumento}),Object(f.jsx)("div",{className:"col-4",children:e.codDocumento}),Object(f.jsx)("div",{className:"col-4",children:e.fechaRecepcion})]})})},t)})),0===(null===c||void 0===c?void 0:c.documento.length)&&!b&&Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row align-items-center text-info",style:{minHeight:"50vh"},children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("div",{children:Object(f.jsx)("h1",{children:"\xa1Vaya!"})}),Object(f.jsx)("div",{children:Object(f.jsx)("h5",{className:"text-secondary",children:"Parece que no hay ningun elemento para mostrar"})})]})})}),b&&Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row align-items-center text-info",style:{minHeight:"60vh"},children:Object(f.jsx)("div",{className:"col-2 offset-2",children:Object(f.jsx)("div",{className:"spinner-border fs-1",style:{width:"4rem",height:"4rem"},role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})})]})]})},pe=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"get",value:function(e){return p.get("/enviar/permisos/".concat(e))}}]),e}()),Oe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={scores:[{evaluacion_id:1,puntuacion:NaN},{evaluacion_id:2,puntuacion:NaN},{evaluacion_id:3,puntuacion:NaN},{evaluacion_id:4,puntuacion:NaN},{evaluacion_id:5,puntuacion:NaN},{evaluacion_id:6,puntuacion:NaN},{evaluacion_id:7,puntuacion:NaN}],message:"El siguiente campo debe ser correctamente llenado: Alguno de los puntajes es incorrecto"},n.onTrigger=n.onTrigger.bind(Object(u.a)(n)),n.changeScore=n.changeScore.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"onTrigger",value:function(){this.props.parentCallback({scores:this.state.scores})}},{key:"changeScore",value:function(e){var t=this.state.scores,a=e.target.id;t[parseInt(a.charAt(a.length-1))-1].puntuacion=parseInt(e.target.value),this.setState({scores:t}),this.onTrigger()}},{key:"render",value:function(){var e=this,t=this.props.refScores,a=0;return Object(f.jsx)("table",{className:"table table-bordered",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"col-8 fs-5 p-2",children:Object(f.jsx)("strong",{children:"Descripcion"})}),Object(f.jsx)("td",{className:"col-2 fs-5 p-2",children:Object(f.jsx)("strong",{children:"Puntaje Referencial"})}),Object(f.jsx)("td",{className:"col-2 fs-5 p-2",children:Object(f.jsx)("strong",{children:"Puntaje Obtenido"})})]}),t&&t.map((function(t){return a++,Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t.descripcion}),Object(f.jsxs)("td",{align:"center",children:[t.puntaje," puntos"]}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{type:"number",className:"input col-12",id:"value"+a,onChange:e.changeScore,min:"1",max:t.puntaje,required:!0})})]})}))]})})}}]),a}(n.Component),xe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).handleScores=function(e){n.setState({scoresObtained:e.scores}),n.checkScores()},n.state={companyGroup:"",changeOrderCode:"",dateOfIssue:"",refScores:[],scoresObtained:[{evaluacion_id:0,puntuacion:NaN}],scoresMessage:"Tabla de puntajes: Alguno de los puntajes es incorrecto",observations:[],document:"",section:"",description:"",correctionDeadline:"",correctionTime:"",correctionPlace:"",message:"",open:!1};var c=n.state.observations;return c.pop(),n.setState({observations:c}),n.retrieveChangeOrderData=n.retrieveChangeOrderData.bind(Object(u.a)(n)),n.convertDate=n.convertDate.bind(Object(u.a)(n)),n.handleChangeOrderCode=n.handleChangeOrderCode.bind(Object(u.a)(n)),n.handleDateOfIssue=n.handleDateOfIssue.bind(Object(u.a)(n)),n.deleteObservation=n.deleteObservation.bind(Object(u.a)(n)),n.handleSection=n.handleSection.bind(Object(u.a)(n)),n.handleDescription=n.handleDescription.bind(Object(u.a)(n)),n.handleCorrectionDeadline=n.handleCorrectionDeadline.bind(Object(u.a)(n)),n.handleCorrectionTime=n.handleCorrectionTime.bind(Object(u.a)(n)),n.handleCorrectionPlace=n.handleCorrectionPlace.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.postGrade=n.postGrade.bind(Object(u.a)(n)),n.checkScores=n.checkScores.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveChangeOrderData()}},{key:"retrieveChangeOrderData",value:function(){var e=this;$.get(localStorage.getItem("idPostulacionCalificacion")+"").then((function(t){e.setState({companyGroup:t.data.grupoEmpresa,dateOfIssue:t.data.fechaEm,observations:t.data.observaciones,refScores:t.data.calificacion,correctionDeadline:e.convertDate(t.data.fechayHoraEntrega,!0),correctionTime:e.convertDate(t.data.fechayHoraEntrega,!1),correctionPlace:t.data.lugarEntrega})})).catch((function(e){console.log(e)}))}},{key:"convertDate",value:function(e,t){for(var a="",n=e.length-1,c=!1;n>=0&&!c;)"."!==e.charAt(n)?e=e.substring(0,n):c=!0,n--;e+="00Z";var s=new Date(e);if(t){var o=s.getFullYear(),i=s.getMonth()+1,r=s.getDate();r<10&&(r="0"+r),i<10&&(i="0"+i),a=o+"-"+i+"-"+r}else{var l=s.getUTCHours(),d=s.getUTCMinutes(),u=s.getUTCMilliseconds();l<10&&(l="0"+l),d<10&&(d="0"+d),u<10&&(u="0"+u),a=l+":"+d+":"+u}return a}},{key:"handleChangeOrderCode",value:function(e){this.setState({changeOrderCode:e.target.value})}},{key:"handleDateOfIssue",value:function(e){console.log(e.target.value),this.setState({dateOfIssue:e.target.value})}},{key:"handleCorrectionDeadline",value:function(e){this.setState({correctionDeadline:e.target.value.toString()})}},{key:"handleCorrectionTime",value:function(e){this.setState({correctionTime:e.target.value.toString()})}},{key:"handleCorrectionPlace",value:function(e){this.setState({correctionPlace:e.target.value})}},{key:"handleSection",value:function(e){this.setState({section:e.target.value})}},{key:"handleDescription",value:function(e){this.setState({description:e.target.value})}},{key:"handleSubmit",value:function(){return this.checkScores(),""===this.state.companyGroup?(this.setState({message:"No selecciono niguna Grupo Empresa",open:!0}),!1):""!==this.state.scoresMessage?(this.setState({message:this.state.scoresMessage,open:!0}),!1):this.state.observations.length<1?(this.setState({message:"No registro ninguna observacion",open:!0}),!1):/[a-zA-Z]+/.test(this.state.correctionPlace)?(this.setState({message:"Registro de calificacion realizada exitosamente",open:!0}),void this.postGrade()):(this.setState({message:"Lugar de entrega no valido",open:!0}),!1)}},{key:"postGrade",value:function(){var e={fecha_entrega:this.state.dateOfIssue,lugar_entrega:this.state.correctionPlace,fecha_emision:this.state.correctionDeadline,evaluacion:this.state.scoresObtained};$.createChangeOrder(e,localStorage.getItem("idPostulacionCalificacion")+"").then((function(){})).catch((function(e){console.log(e)}))}},{key:"deleteObservation",value:function(){var e=this.state.observations;e.pop(),this.setState({observations:e})}},{key:"checkScores",value:function(){for(var e=0;e<(null===(t=this.state.refScores)||void 0===t?void 0:t.length);e++){var t,a;if(this.state.scoresObtained[e].puntuacion>(null===(a=this.state.refScores[e])||void 0===a?void 0:a.puntaje)||!this.state.scoresObtained[e].puntuacion||this.state.scoresObtained[e].puntuacion<0)return void this.setState({scoresMessage:"Tabla de puntajes: Alguno de los puntajes es incorrecto"})}this.setState({scoresMessage:""})}},{key:"render",value:function(){var e=this,t=this.state.observations,a=function(t,a){"clickaway"!==a&&e.setState({open:!1})},n=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:a,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"asd",tabIndex:-1,"aria-labelledby":"labelasd",role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfEst\xe1 seguro de cancelar la el registro de su orden de cambio?"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary text-white","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-info text-white",onClick:function(){window.location.reload()},children:"Confirmar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h3",{children:"Registrar calificiacion - Orden de Cambio"})})}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"codigoConvocatoria",className:"col-md-4 col-form-label",children:"Grupo Empresa"}),Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsx)("input",{className:"form-control-lg col-12 text-dark",value:this.state.companyGroup,disabled:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"fechaContrato",className:"col-md-4 col-form-label",children:"Fecha de emision de contrato"}),Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsx)("input",{type:"date",className:"form-control",onChange:this.handleDateOfIssue,value:this.state.dateOfIssue,required:!0})})]}),Object(f.jsx)("div",{className:"form-group row m-3",children:Object(f.jsx)(Oe,{parentCallback:this.handleScores,refScores:this.state.refScores})}),Object(f.jsxs)("div",{className:"form-group row m-3",children:["Observaciones de contrato",Object(f.jsx)("table",{className:"table table-bordered",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"col-2 fs-5 p-2",children:Object(f.jsx)("strong",{children:"Documento"})}),Object(f.jsx)("td",{className:"col-2 fs-5 p-2",children:Object(f.jsx)("strong",{children:"Seccion"})}),Object(f.jsx)("td",{className:"col-8 fs-5 p-2",children:Object(f.jsx)("strong",{children:"Descripcion de la observacion"})}),Object(f.jsx)("td",{className:"borderless-cell"})]}),t&&t.map((function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.nombreDoc}),Object(f.jsx)("td",{children:e.seccionDoc}),Object(f.jsx)("td",{children:e.descripcion}),Object(f.jsx)("td",{className:"borderless-cell"})]})})}))]})})]}),Object(f.jsx)("div",{className:"form-group row m-3",children:Object(f.jsx)("h5",{children:Object(f.jsx)("strong",{children:"Informacion de entrega de correccion"})})}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"fechaContrato",className:"col-md-4 col-form-label",children:"Fecha de entrega de correccion"}),Object(f.jsx)("div",{className:"col-md-2",children:Object(f.jsx)("input",{type:"date",className:"form-control",required:!0,value:this.state.correctionDeadline,onChange:this.handleCorrectionDeadline})}),Object(f.jsx)("label",{htmlFor:"fechaContrato",className:"col-md-1 offset-1 col-form-label",children:"a horas"}),Object(f.jsx)("div",{className:"col-md-2",children:Object(f.jsx)("input",{type:"time",className:"form-control",onChange:this.handleCorrectionTime,value:this.state.correctionTime,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"codigoPliego",className:"col-md-4 col-form-label",children:"Lugar de entrega"}),Object(f.jsx)("div",{className:"col-md-6",children:Object(f.jsx)("input",{type:"text",className:"form-control",value:this.state.correctionPlace,onChange:this.handleCorrectionPlace,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3 d-flex justify-content-end",children:[Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"button",className:"btn btn-lg btn-danger text-white","data-bs-toggle":"modal","data-bs-target":"#asd",children:"Cancelar"})}),Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-lg btn-success",onClick:this.handleSubmit,children:"Registrar"})})]})]}),Object(f.jsx)(E.a,{open:this.state.open,autoHideDuration:6e3,onClose:a,message:this.state.message,action:n})]})}}]),a}(n.Component),ve=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return p.get("/postulacion/ordencambio")}},{key:"get",value:function(e){return p.get("/postulacion/propias/".concat(e))}},{key:"getInfo",value:function(e){return p.get("/notificacionconformidad/autollenado/".concat(e))}},{key:"generar",value:function(e){return p.get("/generar/notificacionconformidad/".concat(e))}},{key:"create",value:function(e){return p.post("/postulacion/notificacionconformidad/",e)}},{key:"update",value:function(e,t){return p.put("/ordencambio/".concat(t),e)}},{key:"delete",value:function(e){return p.delete("/orden_de_cambio/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/orden_de_cambio")}},{key:"findByTitle",value:function(e){return p.get("/orden_de_cambio?title=".concat(e))}},{key:"generateNotify",value:function(e){return p.get("/generar/notificacionconformidad/".concat(e))}}]),e}()),fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleScores=function(e){n.setState({scoresObtained:e.scores}),n.checkScores()},n.state={companyGroup:"",changeOrderCode:"",dateOfIssue:"",refScores:[],scoresObtained:[{evaluacion_id:0,puntuacion:NaN}],scoresMessage:"Tabla de puntajes: Alguno de los puntajes es incorrecto",document:"",section:"",description:"",correctionDeadline:"",correctionTime:"",correctionPlace:"",message:"",open:!1},n.retrieveComplianceData=n.retrieveComplianceData.bind(Object(u.a)(n)),n.convertDate=n.convertDate.bind(Object(u.a)(n)),n.handleChangeOrderCode=n.handleChangeOrderCode.bind(Object(u.a)(n)),n.handleDateOfIssue=n.handleDateOfIssue.bind(Object(u.a)(n)),n.handleSection=n.handleSection.bind(Object(u.a)(n)),n.handleDescription=n.handleDescription.bind(Object(u.a)(n)),n.handleCorrectionDeadline=n.handleCorrectionDeadline.bind(Object(u.a)(n)),n.handleCorrectionTime=n.handleCorrectionTime.bind(Object(u.a)(n)),n.handleCorrectionPlace=n.handleCorrectionPlace.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.postGrade=n.postGrade.bind(Object(u.a)(n)),n.checkScores=n.checkScores.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrieveComplianceData()}},{key:"retrieveComplianceData",value:function(){var e=this;ve.getInfo(localStorage.getItem("idPostulacionCalificacion")+"").then((function(t){e.setState({companyGroup:t.data.grupoEmpresa,dateOfIssue:t.data.fechaEm,refScores:t.data.calificacion,correctionDeadline:e.convertDate(t.data.fechayHoraEntrega,!0),correctionTime:e.convertDate(t.data.fechayHoraEntrega,!1),correctionPlace:t.data.lugarEntrega})})).catch((function(e){console.log(e)}))}},{key:"convertDate",value:function(e,t){for(var a="",n=e.length-1,c=!1;n>=0&&!c;)"."!==e.charAt(n)?e=e.substring(0,n):c=!0,n--;e+="00Z";var s=new Date(e);if(t){var o=s.getFullYear(),i=s.getMonth()+1,r=s.getDate();r<10&&(r="0"+r),i<10&&(i="0"+i),a=o+"-"+i+"-"+r}else{var l=s.getUTCHours(),d=s.getUTCMinutes(),u=s.getUTCMilliseconds();l<10&&(l="0"+l),d<10&&(d="0"+d),u<10&&(u="0"+u),a=l+":"+d+":"+u}return a}},{key:"handleChangeOrderCode",value:function(e){this.setState({changeOrderCode:e.target.value})}},{key:"handleDateOfIssue",value:function(e){console.log(e.target.value),this.setState({dateOfIssue:e.target.value})}},{key:"handleCorrectionDeadline",value:function(e){this.setState({correctionDeadline:e.target.value.toString()})}},{key:"handleCorrectionTime",value:function(e){this.setState({correctionTime:e.target.value.toString()})}},{key:"handleCorrectionPlace",value:function(e){this.setState({correctionPlace:e.target.value})}},{key:"handleSection",value:function(e){this.setState({section:e.target.value})}},{key:"handleDescription",value:function(e){this.setState({description:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkScores(),""!==this.state.companyGroup){e.next=6;break}return this.setState({message:"No selecciono niguna Grupo Empresa",open:!0}),e.abrupt("return",!1);case 6:if(""===this.state.scoresMessage){e.next=11;break}return this.setState({message:this.state.scoresMessage,open:!0}),e.abrupt("return",!1);case 11:if(/[a-zA-Z]+/.test(this.state.correctionPlace)){e.next=14;break}return this.setState({message:"Lugar de entrega no valido",open:!0}),e.abrupt("return",!1);case 14:return e.next=16,this.setState({message:"Registro de calificacion realizada exitosamente",open:!0});case 16:return this.postGrade(),e.next=19,ve.generateNotify(localStorage.getItem("idPostulacion")+"");case 19:window.location.assign("/my_applications");case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"postGrade",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={fecha_entrega:this.state.dateOfIssue,lugar_entrega:this.state.correctionPlace,fecha_emision:this.state.correctionDeadline,evaluacion:this.state.scoresObtained},e.next=3,$.createComplianceNotification(t,localStorage.getItem("idPostulacionCalificacion")+"").then((function(){})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkScores",value:function(){for(var e=0;e<(null===(t=this.state.refScores)||void 0===t?void 0:t.length);e++){var t,a;if(this.state.scoresObtained[e].puntuacion>(null===(a=this.state.refScores[e])||void 0===a?void 0:a.puntaje)||!this.state.scoresObtained[e].puntuacion||this.state.scoresObtained[e].puntuacion<0)return void this.setState({scoresMessage:"Tabla de puntajes: Alguno de los puntajes es incorrecto"})}this.setState({scoresMessage:""})}},{key:"render",value:function(){var e=this,t=function(t,a){"clickaway"!==a&&e.setState({open:!1})},a=Object(f.jsx)(G.a,{size:"small","aria-label":"close",color:"inherit",onClick:t,children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"modal fade",id:"asd",tabIndex:-1,"aria-labelledby":"labelasd",role:"dialog","aria-hidden":!0,children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("h5",{className:"modal-title",children:"\xbfEst\xe1 seguro de cancelar la el registro de su notificacion de conformidad"}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary text-white","data-bs-dismiss":"modal",children:"Cancelar"}),Object(f.jsx)("button",{type:"button",className:"btn btn-info text-white",onClick:function(){window.location.reload()},children:"Confirmar"})]})]})})}),Object(f.jsxs)("div",{className:"container p-3 position-relative",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h3",{children:"Registrar calificiacion - Notificacion de conformidad"})})}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"codigoConvocatoria",className:"col-md-4 col-form-label",children:"Grupo Empresa"}),Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsx)("input",{className:"form-control-lg col-12 text-dark",value:this.state.companyGroup,disabled:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"fechaContrato",className:"col-md-4 col-form-label",children:"Fecha de emision de contrato"}),Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsx)("input",{type:"date",className:"form-control",onChange:this.handleDateOfIssue,value:this.state.dateOfIssue,required:!0})})]}),Object(f.jsx)("div",{className:"form-group row m-3",children:Object(f.jsx)(Oe,{parentCallback:this.handleScores,refScores:this.state.refScores})}),Object(f.jsx)("div",{className:"form-group row m-3",children:Object(f.jsx)("h5",{children:Object(f.jsx)("strong",{children:"Informacion de firma de contrato"})})}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"fechaContrato",className:"col-md-4 col-form-label",children:"Fecha de firma de contrato"}),Object(f.jsx)("div",{className:"col-md-2",children:Object(f.jsx)("input",{type:"date",className:"form-control",required:!0,value:this.state.correctionDeadline,onChange:this.handleCorrectionDeadline})}),Object(f.jsx)("label",{htmlFor:"fechaContrato",className:"col-md-1 offset-1 col-form-label",children:"a horas"}),Object(f.jsx)("div",{className:"col-md-2",children:Object(f.jsx)("input",{type:"time",className:"form-control",onChange:this.handleCorrectionTime,value:this.state.correctionTime,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3",children:[Object(f.jsx)("label",{htmlFor:"codigoPliego",className:"col-md-4 col-form-label",children:"Lugar de entrega"}),Object(f.jsx)("div",{className:"col-md-6",children:Object(f.jsx)("input",{type:"text",className:"form-control",value:this.state.correctionPlace,onChange:this.handleCorrectionPlace,required:!0})})]}),Object(f.jsxs)("div",{className:"form-group row m-3 d-flex justify-content-end",children:[Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"button",className:"btn btn-lg btn-danger text-white","data-bs-toggle":"modal","data-bs-target":"#asd",children:"Cancelar"})}),Object(f.jsx)("div",{className:"col-2",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-lg btn-success",onClick:this.handleSubmit,children:"Registrar"})})]})]}),Object(f.jsx)(E.a,{open:this.state.open,autoHideDuration:6e3,onClose:t,message:this.state.message,action:a})]})}}]),a}(n.Component),ge=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).routesDictionary={1:Object(f.jsx)(y.b,{exact:!0,path:"/documents",component:_}),2:Object(f.jsx)(y.b,{exact:!0,path:"/apply_to_announcement",component:z}),3:Object(f.jsx)(y.b,{exact:!0,path:"/my_work_calendar",component:Z}),4:Object(f.jsx)(y.b,{exact:!0,path:"/inbox_postulation",component:he}),5:Object(f.jsx)(y.b,{exact:!0,path:"/my_announcements",component:L}),6:Object(f.jsx)(y.b,{exact:!0,path:"/announcement_form",component:U}),7:Object(f.jsx)(y.b,{exact:!0,path:"/petis_form",component:V}),8:Object(f.jsx)(y.b,{exact:!0,path:"/my_applications",component:ee}),9:Object(f.jsx)(y.b,{exact:!0,path:"/grade_application",component:fe}),10:Object(f.jsx)(y.b,{exact:!0,path:"/grade_observations",component:xe}),11:Object(f.jsx)(y.b,{exact:!0,path:"/addendum",component:te}),12:Object(f.jsx)(y.b,{exact:!0,path:"/provision_contract",component:ae}),13:Object(f.jsx)(y.b,{exact:!0,path:"/application_review",component:de}),14:Object(f.jsx)(y.b,{exact:!0,path:"/observations_review",component:be})},n.state={permissions:[]},n.retrievePermissions=n.retrievePermissions.bind(Object(u.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrievePermissions()}},{key:"retrievePermissions",value:function(){var e=this,t=localStorage.getItem("token")?localStorage.getItem("id")+"":"";pe.get(t).then((function(t){e.setState({permissions:t.data.permisos})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.permissions;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(A,{}),Object(f.jsx)(F,{permissions:t}),Object(f.jsxs)(y.d,{children:[t&&t.map((function(a,n){return t.length-1===n?Object(f.jsxs)(f.Fragment,{children:[e.routesDictionary[a.id],Object(f.jsx)(y.b,{exact:!0,path:"/announcements_list",component:N})]}):e.routesDictionary[a.id]})),t&&0===t.length&&!localStorage.getItem("token")&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y.b,{exact:!0,path:"/announcements_list",component:N}),Object(f.jsx)(y.a,{to:"/announcements_list"})]})]})]})}}]),a}(n.Component);a(177);var Ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsx)(ge,{})})}}]),a}(n.Component),ye=Ne,Ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,209)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};s.a.render(Object(f.jsx)(o.a,{children:Object(f.jsx)(ye,{})}),document.getElementById("root")),Ce()},83:function(e,t,a){}},[[176,1,2]]]);
//# sourceMappingURL=main.33b89d78.chunk.js.map